### üîô üìö üîú –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É

| [–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/LESSON9.MD) | &nbsp; | [–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/LESSON10.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| üè† [–õ–µ–∫—Ü–∏—è ‚Ññ8](../LESSONS/LESSON9.MD) | üìñ [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | üíª [–õ–µ–∫—Ü–∏—è ‚Ññ9](../LESSONS/LESSON10.MD) |
---

# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ8  
## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏; –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–ª–∞–Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

> **–¶–µ–ª—å**: –ù–∞—É—á–∏—Ç—å—Å—è –Ω–∞—Ö–æ–¥–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—é *¬´–û—Ü–µ–Ω–∫–∞ —Å—Ç—Ä–æ–∫¬ª* –∏ *¬´–§–∞–∫—Ç —Å—Ç—Ä–æ–∫¬ª*, –ø–æ–Ω–∏–º–∞—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ –ø–ª–∞–Ω–∞ SQL Server‚Äô–æ–º, –∏ —É—Å—Ç—Ä–∞–Ω—è—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –∑–∞ 1 –∫–æ–º–∞–Ω–¥—É ‚Äî `UPDATE STATISTICS`.  
> **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 2 –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö —á–∞—Å–∞  
> **–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ**: SSMS, SQL Server Developer Edition

---

## üì• –®–∞–≥ 0. –°—Ç–∞—Ä—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ü–µ–ª–∏–∫–æ–º)

```sql
-- –°–æ–∑–¥–∞—ë–º —É—á–µ–±–Ω—É—é –ë–î
DROP DATABASE IF EXISTS StatsLab;
CREATE DATABASE StatsLab;
GO
USE StatsLab;
GO
-- –¢–∞–±–ª–∏—Ü–∞ –ë–ï–ó –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ ‚Üí –∫—É—á–∞ (HEAP)
CREATE TABLE Orders (
    OrderID int IDENTITY(1,1),  -- ‚Üê –ù–ï–¢ PK
    CustomerID int,
    Amount decimal(10,2),
    Status char(10)
);
GO

-- 10 000 ¬´—Å—Ç–∞—Ä—ã—Ö¬ª –∑–∞–∫–∞–∑–æ–≤
INSERT INTO Orders (CustomerID, Amount, Status)
SELECT TOP 10000 
    ABS(CHECKSUM(NEWID())) % 100 + 1,
    CAST(RAND(CHECKSUM(NEWID())) * 1000 AS decimal(10,2)),
    'active'
FROM master.dbo.spt_values a, master.dbo.spt_values b;
GO

-- –ò–Ω–¥–µ–∫—Å –ø–æ Status (–Ω–µ –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π!)
CREATE NONCLUSTERED INDEX IX_Orders_Status ON Orders(Status);
GO

-- –û—Ç–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –î–û –≤—Å—Ç–∞–≤–∫–∏ –Ω–æ–≤—ã—Ö
ALTER DATABASE StatsLab SET AUTO_UPDATE_STATISTICS OFF;
GO

-- 5 000 ¬´–Ω–æ–≤—ã—Ö¬ª –∑–∞–∫–∞–∑–æ–≤
INSERT INTO Orders (CustomerID, Amount, Status)
SELECT TOP 5000 
    100 + ABS(CHECKSUM(NEWID())) % 50,
    CAST(RAND(CHECKSUM(NEWID())) * 200 AS decimal(10,2)),
    'new'
FROM master.dbo.spt_values a, master.dbo.spt_values b;
GO
```

---

## üîç –®–∞–≥ 0.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!)

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã **—Å–æ–≤–ø–∞–¥–∞—é—Ç —Å –æ–∂–∏–¥–∞–µ–º—ã–º–∏**:

#### 1. –¢–∞–±–ª–∏—Ü–∞ ‚Äî –∫—É—á–∞?
```sql
SELECT i.type_desc 
FROM sys.indexes i 
WHERE i.object_id = OBJECT_ID('Orders') AND i.index_id = 0;
```
‚úÖ **–û–∂–∏–¥–∞–µ–º–æ**: Type_desc = `HEAP`

#### 2. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ?
```sql
SELECT is_auto_update_stats_on 
FROM sys.databases 
WHERE name = 'StatsLab';
```
‚úÖ **–û–∂–∏–¥–∞–µ–º–æ**: `0`

#### 3. –í —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –Ω–µ—Ç `'new'`?
```sql
DBCC SHOW_STATISTICS ('Orders', 'IX_Orders_Status');
```
‚úÖ **–û–∂–∏–¥–∞–µ–º–æ**: –≤–æ –≤–∫–ª–∞–¥–∫–µ **¬´–ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞¬ª** ‚Äî —Ç–æ–ª—å–∫–æ `RANGE_HI_KEY = 'active'`.

> ‚ö†Ô∏è **–ï—Å–ª–∏ `'new'` –µ—Å—Ç—å ‚Äî –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ë–î!** –ü–æ—Ä—è–¥–æ–∫ –∫—Ä–∏—Ç–∏—á–µ–Ω:  
> `INSERT 'active'` ‚Üí `CREATE INDEX` ‚Üí `SET AUTO_UPDATE OFF` ‚Üí `INSERT 'new'`.

![8_1.png](8_1.png)

---

## üìã –ó–∞–¥–∞–Ω–∏–µ 1. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –Ω–∞–π–¥–∏—Ç–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –û—Ü–µ–Ω–∫–∞/–§–∞–∫—Ç

1. –í–∫–ª—é—á–∏—Ç–µ **`Ctrl + M`** (–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è).  
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```sql
   SET STATISTICS IO ON;
   SELECT OrderID, Amount FROM Orders WHERE Status = 'new';
   ```

3. –í ¬´–ü–ª–∞–Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è¬ª –Ω–∞–π–¥–∏—Ç–µ:  
   - `–†–∞—Å—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π` (Estimated Number of Rows),  
   - `–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π` (Actual Number of Rows).

4. –í ¬´–°–æ–æ–±—â–µ–Ω–∏—è—Ö¬ª –∑–∞–ø–∏—à–∏—Ç–µ:  
   - `–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è`.
   - `–∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è`

5. –í –æ—Ç—á—ë—Ç–µ —É–∫–∞–∂–∏—Ç–µ:  
   - –¢–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã`),  
   - –ü–æ—á–µ–º—É SQL Server –≤—ã–±—Ä–∞–ª –∏–º–µ–Ω–Ω–æ –µ–≥–æ?

![8_2.png](8_2.png)

---

## üîç –°–ø—Ä–∞–≤–∫–∞: –û—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ 122.474? 

> üí° **SQL Server –Ω–µ ¬´—Å—á–∏—Ç–∞–µ—Ç¬ª —Å—Ç—Ä–æ–∫–∏ ‚Äî –æ–Ω *–æ—Ü–µ–Ω–∏–≤–∞–µ—Ç* –∏—Ö –ø–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ.**  
> –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–µ, –æ–Ω **–Ω–µ –≥–∞–¥–∞–µ—Ç**, –∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥–µ–ª–∏**. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç.

---

### 1. –ü–æ—á–µ–º—É `'new'` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–µ?

- –í—ã –æ—Ç–∫–ª—é—á–∏–ª–∏ `AUTO_UPDATE_STATISTICS`,  
- –í—Å—Ç–∞–≤–∏–ª–∏ 5 000 —Å—Ç—Ä–æ–∫ —Å–æ `'new'` **–ø–æ—Å–ª–µ** —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞,  
- ‚Üí –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è `'active'`.

---

### 2. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä, –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ?

–û–Ω **–Ω–µ –ø–∞–Ω–∏–∫—É–µ—Ç** ‚Äî –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–≤–µ–∫—Ç–æ—Ä –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ (Density Vector)** –∏ **—ç–≤—Ä–∏—Å—Ç–∏–∫–∏ –æ—Ü–µ–Ω—â–∏–∫–∞ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (Cardinality Estimator)**.

#### üîπ –ü–ª–æ—Ç–Ω–æ—Å—Ç—å (Density)
- –ü–ª–æ—Ç–Ω–æ—Å—Ç—å = `1 / —á–∏—Å–ª–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π`,  
- –î–æ –≤—Å—Ç–∞–≤–∫–∏ `'new'`: —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π = 1 (`'active'`) ‚Üí –ø–ª–æ—Ç–Ω–æ—Å—Ç—å = **1.0**,  
- –ù–æ –ø–æ—Å–ª–µ –≤—Å—Ç–∞–≤–∫–∏ (—Ö–æ—Ç—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞) SQL Server **–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç** –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–º—É —á–∏—Å–ª—É —Å—Ç—Ä–æ–∫.

#### üîπ –≠–≤—Ä–∏—Å—Ç–∏–∫–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
–í SQL Server 2016+ (–Ω–æ–≤—ã–π CE) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–æ—Ä–º—É–ª–∞:  
```
–û—Ü–µ–Ω–∫–∞ = SQRT(–û–±—â–µ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫)  
       = SQRT(15 000) ‚âà 122.47 ‚Üí **—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –≤–∞—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º!**
```

‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞**:  
```sql
SELECT SQRT(15000.0) AS Test;  -- –†–µ–∑—É–ª—å—Ç–∞—Ç: 122.474487...
```

>  SQL Server —É–≥–∞–¥—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏—è 'new', –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ –Ω–µ –±—ã–ª–æ —É—á—Ç–µ–Ω–æ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ.
–î—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —É—Å—Ä–µ–¥–Ω–µ–Ω–Ω—ã—Ö –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π,
–∞ –Ω–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥—Å—á–µ—Ç–∞ —Å—Ç—Ä–æ–∫.

---

## üìã –ó–∞–¥–∞–Ω–∏–µ 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ ‚Äî –∫–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –ø–ª–∞–Ω?

1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
   ```sql
   UPDATE STATISTICS Orders IX_Orders_Status;
   ```

2. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∏–∑ –ó–∞–¥–∞–Ω–∏—è 1.  
3. –°—Ä–∞–≤–Ω–∏—Ç–µ:  
   - `–û—Ü–µ–Ω–∫–∞ —Å—Ç—Ä–æ–∫` –¥–æ/–ø–æ—Å–ª–µ,  
   - `–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è`, 
   - `–∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è`,
   - `–¢–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞`.

> üí° **–ü–æ–¥—Å–∫–∞–∑–∫–∞**: –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π` –¥–æ–ª–∂–Ω–∞ —Å—Ç–∞—Ç—å –±–ª–∏–∑–∫–∞ –∫ `–†–∞—Å—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π`.

![8_3.png](8_3.png)

4. –í –æ—Ç—á—ë—Ç–µ **–∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É**:

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
|-----------|---------------|------------------|
| **–†–∞—Å—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π** | ... | ... |
| **–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π** | ... | ... |
| **–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è** | ... | ... |
| **–∑–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è** | ... | ... |
| **–¢–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞** | ... | ... |

> üí° **–û–∂–∏–¥–∞–µ–º–æ**:  
> - `–†–∞—Å—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫` = **5 000**,  
> - –ü–ª–∞–Ω –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è `–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã` (–µ—Å–ª–∏ 5 000 —Å—Ç—Ä–æ–∫ ‚Äî –≤—Å—ë –µ—â—ë –º–∞–ª–æ –¥–ª—è 15 000).



---

## üìã –ó–∞–¥–∞–Ω–∏–µ 3. –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Key Lookup (–Ω–∞ –Ω–æ–≤–æ–π –ë–î)

> üí° **–í –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ç–∞–±–ª–∏—Ü–µ `Orders` Key Lookup –Ω–µ –ø–æ—è–≤–ª—è–ª—Å—è, –ø–æ—Ç–æ–º—É —á—Ç–æ `SELECT *` –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –¥–∞–Ω–Ω—ã–º (–∏–Ω–¥–µ–∫—Å –ø–æ–∫—Ä—ã–≤–∞–µ—Ç `Status`, –∞ `OrderID` ‚Äî –≤ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–º —É–∫–∞–∑–∞—Ç–µ–ª–µ).**  
> **–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º —Ç–∞–±–ª–∏—Ü—É, –≥–¥–µ Key Lookup –Ω–µ–∏–∑–±–µ–∂–µ–Ω.**

> –í–ª–∏—è–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ –ø–ª–∞–Ω –∑–∞–ø—Ä–æ—Å–∞
–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –±–∞–∑–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ë–î –∏ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ü–µ–ª–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å SELECT –≤–æ –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏—è—Ö, –º–µ–Ω—è—è —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –∏–ª–∏ –∏–Ω–¥–µ–∫—Å—ã –º–µ–∂–¥—É —à–∞–≥–∞–º–∏

#### –®–∞–≥ 1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –ë–î (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ü–µ–ª–∏–∫–æ–º)
```sql
DROP DATABASE IF EXISTS StatsLab_Final;
CREATE DATABASE StatsLab_Final;
GO
USE StatsLab_Final;
GO

CREATE TABLE Orders (
    OrderID int IDENTITY(1,1),
    CustomerID int,
    Amount decimal(10,2),
    Status char(10),
    Description VARCHAR(8000) -- –®–∏—Ä–æ–∫–∏–π —Å—Ç–æ–ª–±–µ—Ü
);
GO

-- 10 000 ¬´—Å—Ç–∞—Ä—ã—Ö¬ª –∑–∞–∫–∞–∑–æ–≤
INSERT INTO Orders (CustomerID, Amount, Status, Description)
SELECT TOP 10000 
    1, 100.00, 'active', REPLICATE('Old order ', 100)
FROM sys.all_objects a, sys.all_objects b;
GO

-- –û—Ç–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –î–û —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞, —á—Ç–æ–±—ã "–∑–∞–º–æ—Ä–æ–∑–∏—Ç—å" –µ–µ
ALTER DATABASE StatsLab_Final SET AUTO_UPDATE_STATISTICS OFF;
GO

-- –°–æ–∑–¥–∞–µ–º –Ω–µ–ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å –Ω–∞ Status
CREATE NONCLUSTERED INDEX IX_Orders_Status ON Orders(Status);
GO

-- 5 000 ¬´–Ω–æ–≤—ã—Ö¬ª –∑–∞–∫–∞–∑–æ–≤ (–¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ)
INSERT INTO Orders (CustomerID, Amount, Status, Description)
SELECT TOP 5000 
    2, 200.00, 'new', REPLICATE('New order ', 100)
FROM sys.all_objects a, sys.all_objects b;
GO
```

---

## üìã –ó–∞–¥–∞–Ω–∏–µ 4. 

#### üîπ –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç–≤—Ä–∏—Å—Ç–∏–∫–∏ –∏ Key Lookup)

> üí° –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —É—Å—Ç–∞—Ä–µ–≤—à—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
> *–î–µ–π—Å—Ç–≤–∏–µ:* –ü—Ä–æ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¶–µ–ª–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ë–∞–∑–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞.

#### –®–∞–≥ 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –¶–µ–ª–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å

```sql
USE StatsLab_Final;
GO 
SET STATISTICS IO ON;
SET STATISTICS TIME ON;

SELECT OrderID, Amount, Description 
FROM Orders 
WHERE Status = 'new';
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

- **–†–∞—Å—á–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫**: ~122.474 (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞)
- **–¢–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞**: –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã + –£—Ç–æ—á–Ω—è—é—â–∏–π –∑–∞–ø—Ä–æ—Å RID (Key Lookup)

---

## üìã –ó–∞–¥–∞–Ω–∏–µ 5. 

#### üîπ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–¢–æ—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –∏ Key Lookup)

> üí° –ú—ã –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –Ω–æ –Ω–µ –º–µ–Ω—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–Ω–¥–µ–∫—Å–∞.
> *–î–µ–π—Å—Ç–≤–∏–µ:* –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –∞ –∑–∞—Ç–µ–º —Å–Ω–æ–≤–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¶–µ–ª–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å.

#### –®–∞–≥ 1. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

```sql
USE StatsLab_Final;
GO
UPDATE STATISTICS Orders IX_Orders_Status WITH FULLSCAN;
GO
```

#### –®–∞–≥ 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å

```sql
USE StatsLab_Final;
GO 

SET STATISTICS IO ON;
SET STATISTICS TIME ON;

-- –î–æ–±–∞–≤–ª—è–µ–º —Ö–∏–Ω—Ç –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –∏ –ø–æ–∏—Å–∫–∞
SELECT OrderID, Amount, Description 
FROM Orders WITH(INDEX(IX_Orders_Status), FORCESEEK) 
WHERE Status = 'new';

```

#### –®–∞–≥ 3. –í –æ—Ç—á—ë—Ç–µ:  

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- **–†–∞—Å—á–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫**: 5000 (—Ç–æ—á–Ω–æ)
- **–¢–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞**: –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã + –£—Ç–æ—á–Ω—è—é—â–∏–π –∑–∞–ø—Ä–æ—Å RID (Key Lookup –æ—Å—Ç–∞–µ—Ç—Å—è)
---

## üìã –ó–∞–¥–∞–Ω–∏–µ 6. 

#### üîπ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π Table Scan (–ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∏–Ω–¥–µ–∫—Å)

> üí°  –ú—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ–º SQL Server —Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é —Ç–∞–±–ª–∏—Ü—É, –∏–≥–Ω–æ—Ä–∏—Ä—É—è –∏–Ω–¥–µ–∫—Å.
> *–î–µ–π—Å—Ç–≤–∏–µ:* –í—ã–ø–æ–ª–Ω–∏—Ç—å –¶–µ–ª–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å, –¥–æ–±–∞–≤–∏–≤ —Ö–∏–Ω—Ç WITH(INDEX(0)).

#### –®–∞–≥ 1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –º
```sql
USE StatsLab_Final;
GO

SELECT OrderID, Amount, Description 
FROM Orders WITH(INDEX(0)) -- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—á–∏
WHERE Status = 'new';

```

#### –®–∞–≥ 2. –í –æ—Ç—á—ë—Ç–µ:  

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

- **–¢–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞**: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã (Table Scan)
- **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ —á—Ç–µ–Ω–∏—è**: –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—ã—à–µ, —á–µ–º –≤ –ó–∞–¥–∞–Ω–∏–∏ 1/2 –∏–∑-–∑–∞ —á—Ç–µ–Ω–∏—è —à–∏—Ä–æ–∫–∏—Ö —Å—Ç—Ä–æ–∫.

---

## üìã –ó–∞–¥–∞–Ω–∏–µ 7. 

#### üîπ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–∫—Ä—ã–≤–∞—é—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ (–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω)

> üí° –ú—ã —Å–æ–∑–¥–∞–µ–º –∏–¥–µ–∞–ª—å–Ω—ã–π (–ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π) –∏–Ω–¥–µ–∫—Å, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–∫–ª—é—á–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å Key Lookup.
> *–î–µ–π—Å—Ç–≤–∏–µ:* –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∏–Ω–¥–µ–∫—Å, —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å, –≤—ã–ø–æ–ª–Ω–∏—Ç—å –¶–µ–ª–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å.

#### –®–∞–≥ 1. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∏–Ω–¥–µ–∫—Å –∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π

```sql
USE StatsLab_Final;
GO

-- –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –∏–Ω–¥–µ–∫—Å
DROP INDEX IX_Orders_Status ON Orders;
GO

-- –°–æ–∑–¥–∞–µ–º –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å
CREATE NONCLUSTERED INDEX IX_Cover 
ON Orders(Status) 
INCLUDE (OrderID, Amount, Description);
GO

```

#### –®–∞–≥ 2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å

```sql
USE StatsLab_Final;
GO 
SET STATISTICS IO ON;
SET STATISTICS TIME ON;

SELECT OrderID, Amount, Description 
FROM Orders 
WHERE Status = 'new';
```

#### –®–∞–≥ 3. –í –æ—Ç—á—ë—Ç–µ:  

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
- **–¢–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞**: –ü–æ–∏—Å–∫ –≤ –∏–Ω–¥–µ–∫—Å–µ [NonClustered] (Index Seek), –±–µ–∑ Key Lookup.
- **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ —á—Ç–µ–Ω–∏—è**: –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏.

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å |	–ó–∞–¥–∞–Ω–∏–µ 4 (–°—Ç–∞—Ä–∞—è —Å—Ç–∞—Ç., Key Lookup) |	–ó–∞–¥–∞–Ω–∏–µ 5 (–ù–æ–≤–∞—è —Å—Ç–∞—Ç., Key Lookup)	|–ó–∞–¥–∞–Ω–∏–µ 6 (–ü—Ä–∏–Ω—É–¥. Table Scan)	|–ó–∞–¥–∞–Ω–∏–µ 7 (–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å)|
|----------|-----------------------------|---------------------|----------------|--------------|
|–†–∞—Å—á—ë—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫|	~122.474	|5000	|5000|	5000|
|–§–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫|	5000	|5000	|5000|	5000|
|–õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è|	...	|...|	...|	...|
|–ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è (–º—Å)	|...	|...	|...	|...|
|–¢–∏–ø –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞|	–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã + RID Lookup|	–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã + RID Lookup|	–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã|	–ü–æ–∏—Å–∫ –≤ –∏–Ω–¥–µ–∫—Å–µ [NonClustered]|
---


## üìã –ó–∞–¥–∞–Ω–∏–µ 8. –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

1. –ü–æ—á–µ–º—É –≤ –ó–∞–¥–∞–Ω–∏–∏ 4 (–¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏) —Ä–∞—Å—á–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫ —Å–æ—Å—Ç–∞–≤–ª—è–ª–æ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ 122.474, —Ö–æ—Ç—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ –±—ã–ª–æ —Ä–æ–≤–Ω–æ 5000?
–û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–æ–ª—å –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã –∏ –≤–µ–∫—Ç–æ—Ä–∞ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –≤ –º–µ—Ö–∞–Ω–∏–∑–º–µ –æ—Ü–µ–Ω–∫–∏ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (Cardinality Estimation) SQL Server.

2. –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–ª–∞–Ω—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –ó–∞–¥–∞–Ω–∏—è—Ö 4 –∏ 5.
–ü–æ—á–µ–º—É, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ—á–Ω—É—é –æ—Ü–µ–Ω–∫—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫ –≤ –ó–∞–¥–∞–Ω–∏–∏ 2 (5000), –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –≤—Å–µ —Ä–∞–≤–Ω–æ –≤—ã–±—Ä–∞–ª –æ–ø–µ—Ä–∞—Ç–æ—Ä Key Lookup (–£—Ç–æ—á–Ω—è—é—â–∏–π –∑–∞–ø—Ä–æ—Å RID / –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Ü–∏–∫–ª—ã)? –ß—Ç–æ —è–≤–ª—è–µ—Ç—Å—è "—É–∑–∫–∏–º –º–µ—Å—Ç–æ–º" —ç—Ç–æ–≥–æ –ø–ª–∞–Ω–∞?
3. –°—Ä–∞–≤–Ω–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è (Logical Reads) –≤ –ó–∞–¥–∞–Ω–∏–∏ 5 –∏ –ó–∞–¥–∞–Ω–∏–∏ 6.

–í –∫–∞–∫–æ–º –∏–∑ —ç—Ç–∏—Ö –∑–∞–¥–∞–Ω–∏–π –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –±–æ–ª—å—à–µ —á—Ç–µ–Ω–∏–π? –ü–æ—á–µ–º—É –ø–æ–ª–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü—ã (Table Scan) –≤ –ó–∞–¥–∞–Ω–∏–∏ 6 –æ–∫–∞–∑–∞–ª—Å—è –¥–æ—Ä–æ–∂–µ/–¥–µ—à–µ–≤–ª–µ, —á–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º Key Lookup –≤ –ó–∞–¥–∞–Ω–∏–∏ 5?

4. –ö–∞–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ –Ω–∞–∏–ª—É—á—à–∏–π (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π) –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–æ—á–µ–º—É.

5. –û–±—ä—è—Å–Ω–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ (–ó–∞–¥–∞–Ω–∏–µ 7) –∏ –ø–æ—á–µ–º—É –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–≤–µ–ª–æ –∫ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ Key Lookup.
–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ, –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–ø—Ä–∏–Ω—è—Ç—å –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö, –µ—Å–ª–∏ –æ–Ω –≤–∏–¥–∏—Ç, —á—Ç–æ –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Key Lookup –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–µ–≤–µ—Ä–Ω—É—é –æ—Ü–µ–Ω–∫—É –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç–∏?
–ù–∞–∑–æ–≤–∏—Ç–µ –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

---

## üìÑ **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ—Ç—á—ë—Ç—É (Word-–¥–æ–∫—É–º–µ–Ω—Ç)**

# –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è: **`–û—Ç—á—ë—Ç_–§–∞–º–∏–ª–∏—è_–ì—Ä—É–ø–ø–∞.docx`**  (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–û—Ç—á—ë—Ç_Petrov_IS-23.docx`)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á—ë—Ç–∞:**

1. **–¢–∏—Ç—É–ª—å–Ω—ã–π –ª–∏—Å—Ç** (–§–ò–û, –≥—Ä—É–ø–ø–∞, –¥–∞—Ç–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã).  
2. **–¶–µ–ª—å —Ä–∞–±–æ—Ç—ã**.  
3. **–•–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**:  
   - –ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç **—Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞** (—Å –≤–∞—à–µ–π —Ñ–∞–º–∏–ª–∏–µ–π –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏).  
   - **–°–∫—Ä–∏–Ω—à–æ—Ç—ã** –∏–∑ SSMS —Å–æ **–≤—Å–µ–º–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏ SQL-–∫–æ–º–∞–Ω–¥–∞–º–∏** –∏–∑ –∑–∞–¥–∞–Ω–∏–π 1‚Äì7.  
     - –ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã:  
       - –¢–µ–∫—Å—Ç –∫–æ–º–∞–Ω–¥—ã(—ã),  
       - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ (¬´–ö–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ¬ª),  
       - –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ –æ–∫–Ω–∞ –∏–ª–∏ –≤ —Å—Ç—Ä–æ–∫–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è.  
   - –ü–æ–¥ –∫–∞–∂–¥—ã–º —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–º ‚Äî **–ø–æ–¥–ø–∏—Å—å —Å –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º**, –Ω–∞–ø—Ä–∏–º–µ—Ä:  
     > *–†–∏—Å. 1. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ HEAP –∏ AUTO_UPDATE OFF.*  
     > *–†–∏—Å. 2. –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏: –û—Ü–µ–Ω–∫–∞ = 122, –§–∞–∫—Ç = 5000.*  
     > *–†–∏—Å. 3. –û–∫–Ω–æ ¬´–°–æ–æ–±—â–µ–Ω–∏—è¬ª —Å –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è = 14 850.*  
     > *–†–∏—Å. 4. –ü–ª–∞–Ω –ø–æ—Å–ª–µ –ø–æ–∫—Ä—ã–≤–∞—é—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞: —Ç–æ–ª—å–∫–æ ¬´–ü–æ–∏—Å–∫ –≤ –∏–Ω–¥–µ–∫—Å–µ¬ª.*  
   - **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏**:
    
   - –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ –∑–∞–¥–∞–Ω–∏—è 8.  
4. **–í—ã–≤–æ–¥**:  
   - –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤—ã —É–∑–Ω–∞–ª–∏ –æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –∏ –≤—ã–±–æ—Ä–µ –ø–ª–∞–Ω–∞?  
   - –° –∫–∞–∫–∏–º–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏ —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å `DBCC SHOW_STATISTICS` –∏ –ø–ª–∞–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è?  
   - –ü–æ—á–µ–º—É –≤–∞–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ—Å–ª–µ –º–∞—Å—Å–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π?

> ‚ùó **–í–∞–∂–Ω–æ**:  
> - –û—Ç—á—ë—Ç **–±–µ–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤** (–∏–ª–∏ –±–µ–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–¥–∞ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏) –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è.  
> - **–ë–µ–∑ —Ç–∞–±–ª–∏—Ü—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è –û—Ü–µ–Ω–∫–∞/–§–∞–∫—Ç** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ **–Ω–µ –≤—ã—à–µ ¬´4¬ª**.  
> - –°–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—á—ë—Ç–∫–∏–º–∏ –∏ —á–∏—Ç–∞–µ–º—ã–º–∏**.  
> - –ù–µ –≤—Å—Ç–∞–≤–ª—è–π—Ç–µ –æ–¥–∏–Ω –æ–±—â–∏–π —Å–∫—Ä–∏–Ω—à–æ—Ç –≤—Å–µ–≥–æ –æ–∫–Ω–∞ SSMS.

---

## üì§ –°–¥–∞—á–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ñ–æ—Ä–º–∏—Ç–µ –æ—Ç—á—ë—Ç –≤ Microsoft Word.  
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.docx`.  
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ [**Google-—Ñ–æ—Ä–º—É**](https://forms.gle/G3NgLQwxNw95ZBjG7).  
4. –£–∫–∞–∂–∏—Ç–µ –§–ò–û –∏ –≥—Ä—É–ø–ø—É.  
5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –æ—Ç—á—ë—Ç–∞.  
6. **–°—Ä–æ–∫ —Å–¥–∞—á–∏**: –¥–æ 23:59 **11 –¥–µ–∫–∞–±—Ä—è 2025 –≥.**

---

## üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –û—Ü–µ–Ω–∫–∞ ¬´5¬ª | –û—Ü–µ–Ω–∫–∞ ¬´4¬ª | –û—Ü–µ–Ω–∫–∞ ¬´3¬ª |
|--------|-------------|-------------|-------------|
| **–ó–∞–¥–∞–Ω–∏—è 1‚Äì3** | –í—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é, —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏ | –í—ã–ø–æ–ª–Ω–µ–Ω—ã, –Ω–æ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ | –¢–æ–ª—å–∫–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã |
| **–ó–∞–¥–∞–Ω–∏—è 4‚Äì5** | –ê–Ω–∞–ª–∏–∑ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã –∏ –ø–æ—Ä—è–¥–∫–∞ —Å—Ç–æ–ª–±—Ü–æ–≤ ‚Äî –ø–æ–ª–Ω—ã–π | –ï—Å—Ç—å —Ä–∞—Å—á—ë—Ç—ã, –Ω–æ –±–µ–∑ –≤—ã–≤–æ–¥–æ–≤ | –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã |
| **–ó–∞–¥–∞–Ω–∏–µ 6-7** | –°–∫—Ä–∏–ø—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç, –∫–µ–π—Å –æ–±—ä—è—Å–Ω—ë–Ω | –°–∫—Ä–∏–ø—Ç –µ—Å—Ç—å, –∫–µ–π—Å —á–∞—Å—Ç–∏—á–Ω–æ | –ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ |
| **–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã** | –í—Å–µ –æ—Ç–≤–µ—Ç—ã –ø–æ–ª–Ω—ã–µ, —Å —Ç–µ—Ä–º–∏–Ω–∞–º–∏ | 3‚Äì4 –æ—Ç–≤–µ—Ç–∞ | ‚â§2 –æ—Ç–≤–µ—Ç–∞ |
| **–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ** | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–±–ª—é–¥–µ–Ω–∞, —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –µ—Å—Ç—å | –ú–µ–ª–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è | –ë–µ–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ |

> üí° **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–ª**: 5  
> ‚ùó **–ë–µ–∑ —Ç–∞–±–ª–∏—Ü—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –ó–∞–¥–∞–Ω–∏–π 4‚Äì6** ‚Äî –Ω–µ –≤—ã—à–µ ¬´4¬ª.

---

# üìä –°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è. –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ MS SQL Server

–û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ (Query Optimizer) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º –ø–ª–∞–Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, –∫–∞–∫ —á–∏—Ç–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –Ω–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤. üîç

## üìã –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã

–î–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–æ–æ–±—â–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–ª—è –Ω–∞—à–µ–π —Ç–∞–±–ª–∏—Ü—ã `Orders` –∏ –∫–æ–≥–¥–∞ –æ–Ω–∏ –æ–±–Ω–æ–≤–ª—è–ª–∏—Å—å –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑.

```sql
USE StatsLab_Final; 
GO

EXEC sp_helpstats 'Orders', 'ALL';
GO
```
> ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.**

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ (–¥–ª—è –∏–Ω–¥–µ–∫—Å–æ–≤ –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö), –¥–∞—Ç—É –∏—Ö –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (`Updated`) –∏ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –Ω–∞ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç (`Rows`).

## üî¨ –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å –ø–æ–º–æ—â—å—é DBCC SHOW_STATISTICS

–û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ ‚Äî —ç—Ç–æ –∫–æ–º–∞–Ω–¥–∞ `DBCC SHOW_STATISTICS`. –û–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∏ –Ω–∞–±–æ—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: –∑–∞–≥–æ–ª–æ–≤–æ–∫, –≤–µ–∫—Ç–æ—Ä –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ –∏ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É.

–í—ã–ø–æ–ª–Ω–∏–º –∫–æ–º–∞–Ω–¥—É –¥–ª—è –Ω–∞—à–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ `IX_Orders_Status`:

```sql
USE StatsLab_Final;
GO

DBCC SHOW_STATISTICS ('Orders', 'IX_Orders_Status') 
WITH HISTOGRAM; 
GO
```
> ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.**

## üìñ –ö–∞–∫ —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–ö–æ–º–∞–Ω–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∏ —Ç–∞–±–ª–∏—Ü—ã. –î–∞–≤–∞–π—Ç–µ —Ä–∞–∑–±–µ—Ä–µ–º –∫–∞–∂–¥—É—é –∏–∑ –Ω–∏—Ö.

### üìä –¢–∞–±–ª–∏—Ü–∞ 1: –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (Statistics Header)
–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

| –°—Ç–æ–ª–±–µ—Ü | –û–ø–∏—Å–∞–Ω–∏–µ | –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã |
|---------|-----------|------------------|
| **Name** | –ò–º—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏/–∏–Ω–¥–µ–∫—Å–∞. | |
| **Updated** | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. | ‚ö†Ô∏è –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ —Å–∏–ª—å–Ω–æ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ø–æ—Å–ª–µ —ç—Ç–æ–π –¥–∞—Ç—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —É—Å—Ç–∞—Ä–µ–ª–∞ |
| **Rows** | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è. | üìä –°—Ä–∞–≤–Ω–∏—Ç–µ —Å —Ç–µ–∫—É—â–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ |
| **Rows Sampled** | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. | ‚úÖ –ï—Å–ª–∏ —Ä–∞–≤–Ω–æ `Rows`, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `FULLSCAN` |
| **Density** | –°—Ä–µ–¥–Ω—è—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å (—É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö). | üéØ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è "—É–≥–∞–¥—ã–≤–∞–Ω–∏—è" —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π |
| **Leading Column** | –í–µ–¥—É—â–∏–π —Å—Ç–æ–ª–±–µ—Ü. | |

### üìà –¢–∞–±–ª–∏—Ü–∞ 2: –í–µ–∫—Ç–æ—Ä –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏ (Density Vector)
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –≤ —Å—Ç–æ–ª–±—Ü–µ(–∞—Ö).

| –°—Ç–æ–ª–±–µ—Ü | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|
| **All density** | –ü–ª–æ—Ç–Ω–æ—Å—Ç—å. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ `1 / –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π` |

**üí° –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–∞—à–µ –∑–Ω–∞—á–µ–Ω–∏–µ `'new'` –≤ –ó–∞–¥–∞–Ω–∏–∏ 1). –û–Ω —É–º–Ω–æ–∂–∞–µ—Ç –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞ –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—É—é –æ—Ü–µ–Ω–∫—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π. –ò–º–µ–Ω–Ω–æ –æ—Ç—Å—é–¥–∞ –±–µ—Ä–µ—Ç—Å—è –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ `~122.474` –≤ –ó–∞–¥–∞–Ω–∏–∏ 1.

### üìä –¢–∞–±–ª–∏—Ü–∞ 3: –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ (Histogram)
–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Å–æ—Å—Ç–æ—è—â–µ–µ –º–∞–∫—Å–∏–º—É–º –∏–∑ 201 —à–∞–≥–∞ (–¥–∏–∞–ø–∞–∑–æ–Ω–∞).

| –°—Ç–æ–ª–±–µ—Ü | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|-----------|
| **RANGE_HI_KEY** | –í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–∫–ª—é—á) |
| **EQ_ROWS** | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫, —Ä–∞–≤–Ω—ã—Ö `RANGE_HI_KEY` (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ) |
| **RANGE_ROWS** | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤–Ω—É—Ç—Ä–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ (–∏—Å–∫–ª—é—á–∞—è –≤–µ—Ä—Ö–Ω—é—é –≥—Ä–∞–Ω–∏—Ü—É) |

**üí° –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- –ö–æ–≥–¥–∞ –≤—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –∑–∞–ø—Ä–æ—Å —Å —É—Å–ª–æ–≤–∏–µ–º `WHERE Status = 'active'`, –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –∏—â–µ—Ç `'active'` –≤ —Å—Ç–æ–ª–±—Ü–µ `RANGE_HI_KEY` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —á–∏—Å–ª–æ –∏–∑ `EQ_ROWS` –∫–∞–∫ —Ç–æ—á–Ω—É—é –æ—Ü–µ–Ω–∫—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–∫.
- –ï—Å–ª–∏ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `'new'` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–µ, –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é **–í–µ–∫—Ç–æ—Ä–∞ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏** (–¢–∞–±–ª–∏—Ü–∞ 2), —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ—Ç–æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–µ. ‚ùó

---

*–≠—Ç–æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª –ø–æ–º–æ–∂–µ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞–º –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–∞–±–æ—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ SQL Server! üéì*

---


### üîô üìö üîú –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É

| [–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/LESSON9.MD) | &nbsp; | [–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/LESSON10.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| üè† [–õ–µ–∫—Ü–∏—è ‚Ññ7](../LESSONS/LESSON9.MD) | üìñ [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | üíª [–õ–µ–∫—Ü–∏—è ‚Ññ9](../LESSONS/LESSON10.MD) |

---
