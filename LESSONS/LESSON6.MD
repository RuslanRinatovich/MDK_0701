### ๐ ๐ ๐ ะะฐะฒะธะณะฐัะธั ะฟะพ ะบัััั

| [ะัะตะดัะดััะตะต ะทะฐะฝััะธะต](../LESSONS/PR4.MD) | &nbsp; | [ะกะปะตะดัััะตะต ะทะฐะฝััะธะต](../LESSONS/PR5.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| ๐ [ะัะฐะบัะธะบะฐ โ4](../LESSONS/PR4.MD) | ๐ [ะกะพะดะตัะถะฐะฝะธะต](../README.MD) | ๐ป [ะัะฐะบัะธะบะฐ โ5](../LESSONS/PR5.MD) |

---

# ะะตะบัะธั โ6  
## ะกัะตะผั: ะปะพะณะธัะตัะบะฐั ะธะทะพะปััะธั, dbo vs custom, ัะฟัะฐะฒะปะตะฝะธะต ะฟัะฐะฒะฐะผะธ

> **ะัะพะดะพะปะถะธัะตะปัะฝะพััั**: 2 ะฐะบะฐะดะตะผะธัะตัะบะธั ัะฐัะฐ (90 ะผะธะฝัั)  
> **ะะตััะพ ะฒ ะบัััะต**: ะฟะพัะปะต ะธะทััะตะฝะธั ะปะพะณะธะฝะพะฒ, ะฟะพะปัะทะพะฒะฐัะตะปะตะน, ัะพะปะตะน ะธ ะฑะฐะทะพะฒัั ะพะฑัะตะบัะพะฒ ะะ  
> **ะฆะตะปั ะปะตะบัะธะธ**: ะะฐััะธัั ัััะดะตะฝัะพะฒ ะธัะฟะพะปัะทะพะฒะฐัั ััะตะผั ะบะฐะบ ะธะฝััััะผะตะฝั **ะปะพะณะธัะตัะบะพะน ะธะทะพะปััะธะธ**, **ัะฟัะฐะฒะปะตะฝะธั ะฟัะฐะฒะฐะผะธ** ะธ **ะพัะณะฐะฝะธะทะฐัะธะธ ะพะฑัะตะบัะพะฒ** ะฒ MS SQL Server.

---

## ะะณะปะฐะฒะปะตะฝะธะต
- [ะะฒะตะดะตะฝะธะต: ะทะฐัะตะผ ะฐะดะผะธะฝะธัััะฐัะพัั ะฝัะถะฝั ััะตะผั?](#ะฒะฒะตะดะตะฝะธะต-ะทะฐัะตะผ-ะฐะดะผะธะฝะธัััะฐัะพัั-ะฝัะถะฝั-ััะตะผั)
- [ะงัะพ ัะฐะบะพะต ััะตะผะฐ?](#ััะพ-ัะฐะบะพะต-ััะตะผะฐ)
- [ะกัะตะผะฐ ะฟะพ ัะผะพะปัะฐะฝะธั: dbo](#ััะตะผะฐ-ะฟะพ-ัะผะพะปัะฐะฝะธั-dbo)
- [ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ััะตะผั (custom schemas)](#ะฟะพะปัะทะพะฒะฐัะตะปััะบะธะต-ััะตะผั-custom-schemas)
- [ะะพะณะธัะตัะบะฐั ะธะทะพะปััะธั ะฟะพะดัะธััะตะผ](#ะปะพะณะธัะตัะบะฐั-ะธะทะพะปััะธั-ะฟะพะดัะธััะตะผ)
- [ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะฐะฒะฐะผะธ ะฝะฐ ััะพะฒะฝะต ััะตะผั](#ัะฟัะฐะฒะปะตะฝะธะต-ะฟัะฐะฒะฐะผะธ-ะฝะฐ-ััะพะฒะฝะต-ััะตะผั)
- [ะัะฐะบัะธัะตัะบะธะต ััะตะฝะฐัะธะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั](#ะฟัะฐะบัะธัะตัะบะธะต-ััะตะฝะฐัะธะธ-ะธัะฟะพะปัะทะพะฒะฐะฝะธั)
- [ะะณัะฐะฝะธัะตะฝะธั ะธ ะปัััะธะต ะฟัะฐะบัะธะบะธ](#ะพะณัะฐะฝะธัะตะฝะธั-ะธ-ะปัััะธะต-ะฟัะฐะบัะธะบะธ)
- [ะัะฒะพะดั](#ะฒัะฒะพะดั)
- [ะะพะฟัะพัั ะดะปั ัะฐะผะพะฟัะพะฒะตัะบะธ](#ะฒะพะฟัะพัั-ะดะปั-ัะฐะผะพะฟัะพะฒะตัะบะธ)

---

## ะะฒะตะดะตะฝะธะต: ะทะฐัะตะผ ะฐะดะผะธะฝะธัััะฐัะพัั ะฝัะถะฝั ััะตะผั?

ะั โ **ะฐะดะผะธะฝะธัััะฐัะพั**, ะฐ ะฝะต ัะฐะทัะฐะฑะพััะธะบ.  
ะะฐะผ ะฝะต ะฝัะถะฝะพ ะฟัะพะตะบัะธัะพะฒะฐัั ัะฐะฑะปะธัั, ะฝะพ ะฒั **ะพะฑัะทะฐะฝั**:

- ะพะฑะตัะฟะตัะธัั **ะฑะตะทะพะฟะฐัะฝะพััั** ะดะฐะฝะฝัั,  
- ัะฟัะพััะธัั **ัะฟัะฐะฒะปะตะฝะธะต ะฟัะฐะฒะฐะผะธ**,  
- ะพัะณะฐะฝะธะทะพะฒะฐัั **ะผะฐัััะฐะฑะธััะตะผัั ััััะบัััั** ะะ.

> ๐ก **ะกัะตะผะฐ** โ ะพะดะธะฝ ะธะท ัะฐะผัั ะผะพัะฝัั, ะฝะพ ะฝะตะดะพะพัะตะฝัะฝะฝัั ะธะฝััััะผะตะฝัะพะฒ ะดะปั ัะตัะตะฝะธั ััะธั ะทะฐะดะฐั.

---

## ะงัะพ ัะฐะบะพะต ััะตะผะฐ?

> **ะกัะตะผะฐ (schema)** โ ััะพ **ะปะพะณะธัะตัะบะธะน ะบะพะฝัะตะนะฝะตั** ะฒะฝัััะธ ะฑะฐะทั ะดะฐะฝะฝัั, ะบะพัะพััะน:
> - ะณััะฟะฟะธััะตั ะพะฑัะตะบัั (ัะฐะฑะปะธัั, ะฟัะตะดััะฐะฒะปะตะฝะธั, ะฟัะพัะตะดััั),  
> - ะพะฟัะตะดะตะปัะตั **ะฟัะพัััะฐะฝััะฒะพ ะธะผัะฝ**,  
> - ัะปัะถะธั **ะตะดะธะฝะธัะตะน ัะฟัะฐะฒะปะตะฝะธั ะฟัะฐะฒะฐะผะธ**.

ะะพะปะฝะพะต ะธะผั ะพะฑัะตะบัะฐ ะฒ SQL Server ะฒัะตะณะดะฐ ะฒะบะปััะฐะตั ััะตะผั:  
```sql
schema_name.object_name
```

ะัะธะผะตัั:
- `dbo.Users`  
- `hr.Employees`  
- `academy.Students`

> โ๏ธ ะัะปะธ ััะตะผะฐ ะฝะต ัะบะฐะทะฐะฝะฐ, SQL Server ะธัะฟะพะปัะทัะตั **ััะตะผั ะฟะพ ัะผะพะปัะฐะฝะธั** ะดะปั ะฟะพะปัะทะพะฒะฐัะตะปั (ะพะฑััะฝะพ `dbo`).

---

## ะกัะตะผะฐ ะฟะพ ัะผะพะปัะฐะฝะธั: dbo

- `dbo` = **database owner**  
- ะญัะพ **ััะฐะฝะดะฐััะฝะฐั ััะตะผะฐ** ะฒ ะบะฐะถะดะพะน ะฝะพะฒะพะน ะฑะฐะทะต ะดะฐะฝะฝัั.  
- ะัะธ ะฒัะฟะพะปะฝะตะฝะธะธ:
  ```sql
  CREATE TABLE Logs (...);
  ```
  ัะฐะฑะปะธัะฐ ัะพะทะดะฐัััั ะบะฐะบ `dbo.Logs`.

### ะะพะณะดะฐ dbo โ ะฝะพัะผะฐะปัะฝะพ?
- ะ ะฝะตะฑะพะปััะธั ะฑะฐะทะฐั,  
- ะ ััะตะฑะฝัั ะฟัะพะตะบัะฐั,  
- ะ ะะก ั ะพะดะฝะธะผ ะผะพะดัะปะตะผ.

### ะะพะณะดะฐ dbo โ ะฟัะพะฑะปะตะผะฐ?
- ะ ะบััะฟะฝัั ัะธััะตะผะฐั ั ะฝะตัะบะพะปัะบะธะผะธ ะบะพะผะฐะฝะดะฐะผะธ,  
- ะัะธ ะฝะฐะปะธัะธะธ ะฝะตัะบะพะปัะบะธั ะฟะพะดัะธััะตะผ ะฒ ะพะดะฝะพะน ะะ,  
- ะัะธ ะฝะตะพะฑัะพะดะธะผะพััะธ ะณะธะฑะบะพะณะพ ัะฟัะฐะฒะปะตะฝะธั ะฟัะฐะฒะฐะผะธ.

> ๐ฌ **ะัะธะผะตั ะฟัะพะฑะปะตะผั**:  
> ะะฐะทัะฐะฑะพััะธะบ ะผะพะดัะปั ยซะััะณะฐะปัะตัะธัยป ัะพะทะดะฐัั ัะฐะฑะปะธัั `Reports`.  
> ะะฐะทัะฐะฑะพััะธะบ ะผะพะดัะปั ยซะะฐะดััยป ัะพะถะต ัะพะทะดะฐัั `Reports`.  
> โ ะะพะฝัะปะธะบั ะธะผัะฝ! ะะฑะต ัะฐะฑะปะธัั โ `dbo.Reports`.

---

## ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ััะตะผั (custom schemas)

ะะดะผะธะฝะธัััะฐัะพั ะผะพะถะตั ัะพะทะดะฐัั **ะฟะพะปัะทะพะฒะฐัะตะปััะบัั ััะตะผั** ะดะปั ะบะฐะถะดะพะน ะฟะพะดัะธััะตะผั:

```sql
CREATE SCHEMA finance;
CREATE SCHEMA hr;
CREATE SCHEMA academy;
```

ะขะตะฟะตัั:
- `finance.Reports` โ `hr.Reports`  
- ะะฑัะตะบัั ะปะพะณะธัะตัะบะธ ัะฐะทะดะตะปะตะฝั  
- ะะตั ัะธัะบะฐ ะบะพะฝัะปะธะบัะฐ ะธะผัะฝ

> ๐ก ะกะพะทะดะฐะฝะธะต ััะตะผั โ **ะฐะดะผะธะฝะธัััะฐัะธะฒะฝะฐั ะพะฟะตัะฐัะธั**, ะบะพัะพััั ะฒั ะฒัะฟะพะปะฝัะตัะต ะฟัะธ ัะฐะทะฒััััะฒะฐะฝะธะธ ัะธััะตะผั.

---

## ะะพะณะธัะตัะบะฐั ะธะทะพะปััะธั ะฟะพะดัะธััะตะผ

ะัะตะดััะฐะฒััะต ะะก ัะฝะธะฒะตััะธัะตัะฐ:

| ะะพะดัะธััะตะผะฐ | ะกัะตะผะฐ | ะะฑัะตะบัั |
|-----------|-------|--------|
| ะฃััั ัััะดะตะฝัะพะฒ | `academy` | `Students`, `Courses`, `Enrollments` |
| ะะฐะดัั | `hr` | `Employees`, `Positions`, `Salaries` |
| ะััะณะฐะปัะตัะธั | `finance` | `Invoices`, `Payments`, `Reports` |

### ะัะตะธะผััะตััะฒะฐ:
- **ะงััะบะฐั ะณัะฐะฝะธัะฐ ะพัะฒะตัััะฒะตะฝะฝะพััะธ**  
- **ะฃะฟัะพััะฝะฝะพะต ะพะฑัะปัะถะธะฒะฐะฝะธะต** (ะผะพะถะฝะพ ะพะฑะฝะพะฒะปััั ัะพะปัะบะพ `academy`, ะฝะต ััะพะณะฐั `finance`)  
- **ะะธะฑะบะพะต ัะฟัะฐะฒะปะตะฝะธะต ะฟัะฐะฒะฐะผะธ** (ัะผ. ะฝะธะถะต)

---

## ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะฐะฒะฐะผะธ ะฝะฐ ััะพะฒะฝะต ััะตะผั

ะญัะพ **ะณะปะฐะฒะฝะพะต ะฟัะตะธะผััะตััะฒะพ** ััะตะผ ะดะปั ะฐะดะผะธะฝะธัััะฐัะพัะฐ!

ะะผะตััะพ ัะพะณะพ ััะพะฑั ะฒัะดะฐะฒะฐัั ะฟัะฐะฒะฐ ะฝะฐ ะบะฐะถะดัั ัะฐะฑะปะธัั:
```sql
GRANT SELECT ON academy.Students TO analyst;
GRANT SELECT ON academy.Courses TO analyst;
GRANT SELECT ON academy.Enrollments TO analyst;
-- ... ะธ ัะฐะบ ะดะปั 20 ัะฐะฑะปะธั
```

ะั ะดะฐััะต ะฟัะฐะฒะพ **ะฝะฐ ะฒัั ััะตะผั**:
```sql
GRANT SELECT ON SCHEMA::academy TO analyst;
```

> โ ะะดะฝะฐ ะบะพะผะฐะฝะดะฐ ะฒะผะตััะพ ะดะตัััะบะพะฒ  
> โ ะะพะฒัะต ัะฐะฑะปะธัั ะฒ ััะตะผะต ะฐะฒัะพะผะฐัะธัะตัะบะธ ะดะพัััะฟะฝั  
> โ ะัะพััะพัะฐ ะพัะทัะฒะฐ ะฟัะฐะฒ: `REVOKE SELECT ON SCHEMA::academy FROM analyst;`

### ะััะณะธะต ะฟะพะปะตะทะฝัะต ัะฐะทัะตัะตะฝะธั:
```sql
-- ะะฐะทัะตัะธัั ัะพะทะดะฐะฒะฐัั ะพะฑัะตะบัั ะฒ ััะตะผะต
GRANT CREATE TABLE ON SCHEMA::academy TO developer;

-- ะะฐะฟัะตัะธัั ัะดะฐะปััั ะพะฑัะตะบัั
DENY ALTER ON SCHEMA::finance TO junior_user;
```

---

## ะัะฐะบัะธัะตัะบะธะต ััะตะฝะฐัะธะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะกัะตะฝะฐัะธะน 1. ะะฝะตะดัะตะฝะธะต ะฝะพะฒะพะณะพ ะผะพะดัะปั
> **ะะฐะดะฐัะฐ**: ะะพะดะบะปััะธัั ะผะพะดัะปั ยซะญะปะตะบััะพะฝะฝะฐั ะฑะธะฑะปะธะพัะตะบะฐยป.  
> **ะะตะนััะฒะธั ะฐะดะผะธะฝะธัััะฐัะพัะฐ**:  
> 1. `CREATE SCHEMA library;`  
> 2. `GRANT CREATE TABLE, SELECT, INSERT ON SCHEMA::library TO lib_dev;`  
> 3. ะะฐะทัะฐะฑะพััะธะบะธ ัะพะทะดะฐัั ะพะฑัะตะบัั ะฒ `library` โ ะฝะต ะผะตัะฐั ะดััะณะธะผ ะผะพะดัะปัะผ.

### ะกัะตะฝะฐัะธะน 2. ะะณัะฐะฝะธัะตะฝะธะต ััะฐะถััะฐ
> **ะะฐะดะฐัะฐ**: ะกัะฐะถัั ะผะพะถะตั ัะธัะฐัั ะดะฐะฝะฝัะต ะบะฐะดัะพะฒ, ะฝะพ ะฝะต ะฒะธะดะตัั ะฑััะณะฐะปัะตัะธั.  
> **ะะตัะตะฝะธะต**:  
> ```sql
> GRANT SELECT ON SCHEMA::hr TO intern;
> -- ะะธะบะฐะบะธั ะฟัะฐะฒ ะฝะฐ finance โ ะดะพัััะฟะฐ ะฝะตั!
> ```

### ะกัะตะฝะฐัะธะน 3. ะขะตััะธัะพะฒะฐะฝะธะต ะพะฑะฝะพะฒะปะตะฝะธั
> **ะะฐะดะฐัะฐ**: ะัะพัะตััะธัะพะฒะฐัั ะฝะพะฒัั ะฒะตััะธั ะผะพะดัะปั ััััะฐ.  
> **ะะตัะตะฝะธะต**:  
> - ะกะพะทะดะฐัั ััะตะผั `academy_v2`  
> - ะะฐะทะฒััััะฒะฐัั ะพะฑะฝะพะฒะปัะฝะฝัะต ะพะฑัะตะบัั ััะดะฐ  
> - ะะพัะปะต ัะตััะพะฒ โ ะฟะตัะตะธะผะตะฝะพะฒะฐัั ะธะปะธ ะทะฐะผะตะฝะธัั `academy`

---

## ะะณัะฐะฝะธัะตะฝะธั ะธ ะปัััะธะต ะฟัะฐะบัะธะบะธ

### โ ะะตะปัะทั:
- ะฃะดะฐะปะธัั ััะตะผั, ะตัะปะธ ะฒ ะฝะตะน ะตััั ะพะฑัะตะบัั (ัะฝะฐัะฐะปะฐ ัะดะฐะปะธัะต ะพะฑัะตะบัั)  
- ะะตัะตะผะตััะธัั ะพะฑัะตะบั ะธะท ะพะดะฝะพะน ััะตะผั ะฒ ะดััะณัั ะฑะตะท ะฟะตัะตัะพะทะดะฐะฝะธั  
- ะัะฟะพะปัะทะพะฒะฐัั ะฟัะพะฑะตะปั ะฒ ะธะผะตะฝะธ ััะตะผั ะฑะตะท ะบะฒะฐะดัะฐัะฝัั ัะบะพะฑะพะบ (`[my schema]` โ ะฝะต ัะตะบะพะผะตะฝะดัะตััั)

### โ ะะตะบะพะผะตะฝะดัะตััั:
- **ะัะตะณะดะฐ ัะบะฐะทัะฒะฐัั ััะตะผั** ะฒ ะบะพะผะฐะฝะดะฐั: `SELECT * FROM academy.Students`  
- ะัะฟะพะปัะทะพะฒะฐัั **ะพัะผััะปะตะฝะฝัะต ะธะผะตะฝะฐ**: `hr`, `finance`, `reporting`  
- ะะต ัะผะตัะธะฒะฐัั ะพะฑัะตะบัั ัะฐะทะฝัั ะฟะพะดัะธััะตะผ ะฒ `dbo`  
- ะะฐะทะฝะฐัะฐัั ะฟัะฐะฒะฐ **ะฝะฐ ััะตะผั**, ะฐ ะฝะต ะฝะฐ ะพัะดะตะปัะฝัะต ัะฐะฑะปะธัั

---

## ะัะฒะพะดั

- **ะกัะตะผะฐ** โ ััะพ ะฝะต ะฟัะพััะพ ยซะฟะฐะฟะบะฐยป, ะฐ **ะผะตัะฐะฝะธะทะผ ะฑะตะทะพะฟะฐัะฝะพััะธ ะธ ัะฟัะฐะฒะปะตะฝะธั**.  
- **dbo** ะฟะพะดัะพะดะธั ัะพะปัะบะพ ะดะปั ะฟัะพัััั ัะปััะฐะตะฒ.  
- **ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ััะตะผั** ะพะฑะตัะฟะตัะธะฒะฐัั:  
  - ะปะพะณะธัะตัะบัั ะธะทะพะปััะธั,  
  - ะฑะตะทะพะฟะฐัะฝะพััั,  
  - ัะดะพะฑััะฒะพ ะพะฑัะปัะถะธะฒะฐะฝะธั.  
- **ะฃะฟัะฐะฒะปะตะฝะธะต ะฟัะฐะฒะฐะผะธ ะฝะฐ ััะพะฒะฝะต ััะตะผั** โ ะปัััะฐั ะฟัะฐะบัะธะบะฐ ะดะปั ะฐะดะผะธะฝะธัััะฐัะพัะฐ.

> ๐ฃ๏ธ **ะะฐะฟะพะผะฝะธัะต**:  
> ยซะฅะพัะพัะธะน ะฐะดะผะธะฝะธัััะฐัะพั ะฝะธะบะพะณะดะฐ ะฝะต ะพััะฐะฒะปัะตั ะฒัั ะฒ `dbo`ยป.

---

## ะะพะฟัะพัั ะดะปั ัะฐะผะพะฟัะพะฒะตัะบะธ

1. ะงัะพ ะฟัะพะธะทะพะนะดัั, ะตัะปะธ ะฒัะฟะพะปะฝะธัั `CREATE TABLE Data (...);` ะฑะตะท ัะบะฐะทะฐะฝะธั ััะตะผั?  
2. ะะพะถะฝะพ ะปะธ ะฒ ะพะดะฝะพะน ะะ ะธะผะตัั ะดะฒะต ัะฐะฑะปะธัั ั ะธะผะตะฝะตะผ `Reports`? ะะฐะบ?  
3. ะะฐะบ ะดะฐัั ะฟะพะปัะทะพะฒะฐัะตะปั ะฟัะฐะฒะพ ัะธัะฐัั ะฒัะต ัะฐะฑะปะธัั ะฒ ััะตะผะต `hr` ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน?  
4. ะะพัะตะผั ะฝะตะปัะทั ัะดะฐะปะธัั ััะตะผั, ะตัะปะธ ะฒ ะฝะตะน ะตััั ัะฐะฑะปะธัั?  
5. ะะฐะบะธะต ะฟัะตะธะผััะตััะฒะฐ ะดะฐัั ะธัะฟะพะปัะทะพะฒะฐะฝะธะต ััะตะผ ะฟัะธ ัะฐะทะฒััััะฒะฐะฝะธะธ ะฝะพะฒะพะน ะฟะพะดัะธััะตะผั?  
6. ะงัะพ ะพะทะฝะฐัะฐะตั ะทะฐะฟะธัั `SCHEMA::academy` ะฒ ะบะพะผะฐะฝะดะต `GRANT`?

> ๐ก ะัะฒะตัั ะฝะฐ ััะธ ะฒะพะฟัะพัั ะฟะพะผะพะณัั ะฒะฐะผ ััะฟะตัะฝะพ ะฒัะฟะพะปะฝะธัั **ะัะฐะบัะธัะตัะบัั ัะฐะฑะพัั โ5**.

---

### ๐ ๐ ๐ ะะฐะฒะธะณะฐัะธั ะฟะพ ะบัััั

| [ะัะตะดัะดััะตะต ะทะฐะฝััะธะต](../LESSONS/PR4.MD) | &nbsp; | [ะกะปะตะดัััะตะต ะทะฐะฝััะธะต](../LESSONS/PR5.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| ๐ [ะัะฐะบัะธะบะฐ โ4](../LESSONS/PR4.MD) | ๐ [ะกะพะดะตัะถะฐะฝะธะต](../README.MD) | ๐ป [ะัะฐะบัะธะบะฐ โ5](../LESSONS/PR5.MD) |

---
