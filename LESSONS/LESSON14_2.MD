### üîô üìö üîú –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É

| [–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR13_1.MD) | &nbsp; | [–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR13_2.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| üè† [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ13.1](../LESSONS/PR13_1.MD) | üìñ [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | üíª [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ13.2](../LESSONS/PR13_2.MD) |

---

# üéì **–õ–µ–∫—Ü–∏—è 13.2. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ö—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö**  
‚è±Ô∏è **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 90 –º–∏–Ω—É—Ç

---

## **üìñ –ß–∞—Å—Ç—å 1. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ SQL Server**

### **üîπ –ó–∞—á–µ–º –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö?**
–ö–∞–∂–¥–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ SQL Server –∏–º–µ–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö. –¢–∏–ø –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:
- –ö–∞–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
- –°–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –æ–Ω–∞ –∑–∞–Ω–∏–º–∞–µ—Ç
- –ö–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–µ–π –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å
- –ö–∞–∫ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è

### **üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö:**

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä—ã |
|-----------|------------|---------|
| **–¢–µ–∫—Å—Ç–æ–≤—ã–µ** | –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ | `CHAR`, `VARCHAR`, `NVARCHAR` |
| **–ß–∏—Å–ª–æ–≤—ã–µ** | –•—Ä–∞–Ω–µ–Ω–∏–µ —á–∏—Å–µ–ª | `INT`, `DECIMAL`, `FLOAT` |
| **–î–∞—Ç–∞/–≤—Ä–µ–º—è** | –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞—Ç –∏ –≤—Ä–µ–º–µ–Ω–∏ | `DATE`, `DATETIME`, `TIME` |
| **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ** | –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è | `BIT` |
| **–ë–∏–Ω–∞—Ä–Ω—ã–µ** | –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | `VARBINARY`, `IMAGE` |

### **üîπ –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:**

```sql
-- CHAR - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã (–¥–æ 8000 —Å–∏–º–≤–æ–ª–æ–≤)
DECLARE @Code CHAR(10) = 'ABC';  -- –ó–∞–π–º–µ—Ç 10 —Å–∏–º–≤–æ–ª–æ–≤ –≤—Å–µ–≥–¥–∞
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –∫–æ–¥—ã, –Ω–æ–º–µ—Ä–∞, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

-- VARCHAR - –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –¥–ª–∏–Ω—ã (–¥–æ 8000 —Å–∏–º–≤–æ–ª–æ–≤)
DECLARE @Name VARCHAR(100) = '–ò–≤–∞–Ω';  -- –ó–∞–π–º–µ—Ç —Ç–æ–ª—å–∫–æ 4 —Å–∏–º–≤–æ–ª–∞
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –∏–º–µ–Ω–∞, –∞–¥—Ä–µ—Å–∞, –æ–ø–∏—Å–∞–Ω–∏—è

-- NVARCHAR - Unicode —Ç–µ–∫—Å—Ç (–¥–æ 4000 —Å–∏–º–≤–æ–ª–æ–≤)
DECLARE @RussianName NVARCHAR(100) = N'–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤';  -- N –ø–µ—Ä–µ–¥ —Ç–µ–∫—Å—Ç–æ–º
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: —Ç–µ–∫—Å—Ç –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö

-- TEXT / NTEXT - —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ, –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!
-- –í–º–µ—Å—Ç–æ –Ω–∏—Ö: VARCHAR(MAX) / NVARCHAR(MAX)
DECLARE @BigText VARCHAR(MAX);  -- –î–æ 2GB —Ç–µ–∫—Å—Ç–∞
```

**–í–∞–∂–Ω–æ:** `NVARCHAR` –∑–∞–Ω–∏–º–∞–µ—Ç –≤ 2 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏, —á–µ–º `VARCHAR`, –Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —è–∑—ã–∫–∏.

### **üîπ –ß–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:**

```sql
-- –¶–ï–õ–´–ï –ß–ò–°–õ–ê:
DECLARE @SmallNumber TINYINT;    -- 0 –¥–æ 255 (1 –±–∞–π—Ç)
DECLARE @MediumNumber SMALLINT;  -- -32768 –¥–æ 32767 (2 –±–∞–π—Ç–∞)
DECLARE @Number INT;             -- -2^31 –¥–æ 2^31-1 (4 –±–∞–π—Ç–∞) - –°–ê–ú–´–ô –ß–ê–°–¢–´–ô!
DECLARE @BigNumber BIGINT;       -- –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞ (8 –±–∞–π—Ç)

-- –î–†–û–ë–ù–´–ï –ß–ò–°–õ–ê:
DECLARE @Price DECIMAL(10, 2);   -- 10 —Ü–∏—Ñ—Ä –≤—Å–µ–≥–æ, 2 –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
-- DECIMAL(precision, scale) - —Ç–æ—á–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è (–¥–µ–Ω—å–≥–∏)

DECLARE @Percent FLOAT;          -- –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞
DECLARE @Weight REAL;            -- –ú–µ–Ω—å—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å —á–µ–º FLOAT

-- –î–ï–ù–¨–ì–ò:
DECLARE @Salary MONEY;           -- –î–ª—è –¥–µ–Ω–µ–∂–Ω—ã—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
DECLARE @SmallMoney SMALLMONEY;  -- –ú–µ–Ω—å—à–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω
```

### **üîπ –¢–∏–ø—ã –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏:**

```sql
-- –¢–û–õ–¨–ö–û –î–ê–¢–ê:
DECLARE @BirthDate DATE;                    -- 0001-01-01 –¥–æ 9999-12-31
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –¥–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è, —Å–æ–±—ã—Ç–∏—è

-- –¢–û–õ–¨–ö–û –í–†–ï–ú–Ø:
DECLARE @StartTime TIME;                    -- 00:00:00.0000000 –¥–æ 23:59:59.9999999
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è

-- –î–ê–¢–ê –ò –í–†–ï–ú–Ø:
DECLARE @OrderDate DATETIME;                -- 1753-01-01 –¥–æ 9999-12-31
DECLARE @LogTime DATETIME2;                 -- –ë–æ–ª—å—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (100 –Ω–∞–Ω–æ—Å–µ–∫—É–Ω–¥)
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π

-- –° –¢–ê–ô–ú–ó–û–ù–û–ô:
DECLARE @UtcTime DATETIMEOFFSET;           -- –° —É—á–µ—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö —Å–∏—Å—Ç–µ–º

-- –ú–ê–õ–ï–ù–¨–ö–ò–ô –î–ò–ê–ü–ê–ó–û–ù:
DECLARE @SmallDate SMALLDATETIME;          -- 1900-01-01 –¥–æ 2079-06-06
-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
```

### **üîπ –õ–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–∏–ø BIT:**

```sql
-- BIT - –ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ç–∏–ø (0 –∏–ª–∏ 1)
DECLARE @IsActive BIT = 1;      -- 1 = TRUE (–∏—Å—Ç–∏–Ω–∞)
DECLARE @IsDeleted BIT = 0;     -- 0 = FALSE (–ª–æ–∂—å)
DECLARE @IsCompleted BIT = NULL;-- NULL = –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ

-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
IF @IsActive = 1
    PRINT '–ê–∫—Ç–∏–≤–µ–Ω';
ELSE IF @IsActive = 0
    PRINT '–ù–µ –∞–∫—Ç–∏–≤–µ–Ω';
ELSE
    PRINT '–°—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω';
```

### **üîπ –í—ã–±–æ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö:**

| –°–∏—Ç—É–∞—Ü–∏—è | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø | –ü–æ—á–µ–º—É |
|----------|----------------|--------|
| **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** | `NVARCHAR(50)` | Unicode, –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª–∏–Ω–∞ |
| **–¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä** | `VARCHAR(20)` | –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –∏ —Å–∏–º–≤–æ–ª—ã |
| **–í–æ–∑—Ä–∞—Å—Ç** | `TINYINT` | 0-255 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ |
| **–¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞** | `DECIMAL(10,2)` | –¢–æ—á–Ω–æ—Å—Ç—å –¥–æ –∫–æ–ø–µ–µ–∫ |
| **–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è** | `DATE` | –¢–æ–ª—å–∫–æ –¥–∞—Ç–∞, –±–µ–∑ –≤—Ä–µ–º–µ–Ω–∏ |
| **–í—Ä–µ–º—è —Å–æ–±—ã—Ç–∏—è** | `TIME` | –¢–æ–ª—å–∫–æ –≤—Ä–µ–º—è |
| **–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è** | `VARBINARY(MAX)` | –ë–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| **–§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** | `BIT` | –î–∞/–ù–µ—Ç |

---

## **üìñ –ß–∞—Å—Ç—å 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ T-SQL**

### **üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ?**
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Äî —ç—Ç–æ "–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã" –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã. –û–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.

### **üîπ –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ DECLARE:**

```sql
-- 1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
DECLARE @UserName NVARCHAR(50);

-- 2. –° –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
DECLARE @Count INT = 0;
DECLARE @StartDate DATE = GETDATE();

-- 3. –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–∞–∑—É
DECLARE 
    @FirstName NVARCHAR(50),
    @LastName NVARCHAR(50) = '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ',
    @Age INT,
    @RegistrationDate DATETIME = GETDATE();
```

### **üîπ –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:**

**–°–ø–æ—Å–æ–± 1: –ö–æ–º–∞–Ω–¥–∞ SET (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–π)**
```sql
DECLARE @Counter INT;
SET @Counter = 10;                      -- –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ
SET @Counter = @Counter + 1;            -- –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞ 1
SET @Counter = (SELECT COUNT(*) FROM sys.databases);  -- –ò–∑ –∑–∞–ø—Ä–æ—Å–∞
```

**–°–ø–æ—Å–æ–± 2: SELECT (–∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ –æ–¥–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞)**
```sql
DECLARE @TotalDBs INT, @OnlineDBs INT, @OfflineDBs INT;

-- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
SELECT 
    @TotalDBs = COUNT(*),
    @OnlineDBs = SUM(CASE WHEN state = 0 THEN 1 ELSE 0 END),
    @OfflineDBs = SUM(CASE WHEN state != 0 THEN 1 ELSE 0 END)
FROM sys.databases;

PRINT '–í—Å–µ–≥–æ –±–∞–∑: ' + CAST(@TotalDBs AS VARCHAR);
PRINT '–í —Å–µ—Ç–∏: ' + CAST(@OnlineDBs AS VARCHAR);
PRINT '–ù–µ –≤ —Å–µ—Ç–∏: ' + CAST(@OfflineDBs AS VARCHAR);
```

### **üîπ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (CAST –∏ CONVERT):**

```sql
DECLARE @Number INT = 100;
DECLARE @TextNumber VARCHAR(10);

-- CAST - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π SQL
SET @TextNumber = CAST(@Number AS VARCHAR(10));

-- CONVERT - —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è SQL Server (–±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)
SET @TextNumber = CONVERT(VARCHAR(10), @Number);

-- CONVERT —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–∞—Ç—ã
DECLARE @Now DATETIME = GETDATE();
PRINT '–î–∞—Ç–∞ 1: ' + CONVERT(VARCHAR, @Now, 104);  -- dd.mm.yyyy
PRINT '–î–∞—Ç–∞ 2: ' + CONVERT(VARCHAR, @Now, 120);  -- yyyy-mm-dd hh:mi:ss
```

---

## **üìñ –ß–∞—Å—Ç—å 3. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ—Ü–µ–¥—É—Ä**

### **üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?**
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Äî —ç—Ç–æ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–¥—É—Ä—É –ø—Ä–∏ –µ—ë –≤—ã–∑–æ–≤–µ. –û–Ω–∏ –¥–µ–ª–∞—é—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≥–∏–±–∫–∏–º–∏ –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏.

### **üîπ –ü—Ä–æ—Å—Ç–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π):**
```sql
CREATE PROCEDURE usp_GetDatabaseInfo
    @DatabaseName NVARCHAR(100)  -- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä (–±–µ–∑ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
AS
BEGIN
    SELECT *
    FROM sys.databases
    WHERE name = @DatabaseName;
END
GO

-- –í—ã–∑–æ–≤ (–ø–∞—Ä–∞–º–µ—Ç—Ä –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!)
EXEC usp_GetDatabaseInfo @DatabaseName = 'master';
EXEC usp_GetDatabaseInfo @DatabaseName = 'tempdb';

-- –û–®–ò–ë–ö–ê! –ù–µ —É–∫–∞–∑–∞–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
EXEC usp_GetDatabaseInfo;
```

### **üîπ –ü–∞—Ä–∞–º–µ—Ç—Ä —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
```sql
CREATE PROCEDURE usp_ShowTopTables
    @TopCount INT = 10,      -- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 10
    @SchemaName NVARCHAR(50) = 'dbo'  -- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ö–µ–º–∞ dbo
AS
BEGIN
    SELECT TOP(@TopCount) *
    FROM sys.tables
    WHERE schema_name(schema_id) = @SchemaName
    ORDER BY name;
END
GO

-- –†–∞–∑–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –≤—ã–∑–æ–≤–∞:
EXEC usp_ShowTopTables;                     -- –¢–æ–ø-10 –∏–∑ —Å—Ö–µ–º—ã dbo
EXEC usp_ShowTopTables @TopCount = 5;       -- –¢–æ–ø-5 –∏–∑ —Å—Ö–µ–º—ã dbo
EXEC usp_ShowTopTables @SchemaName = 'Sales'; -- –¢–æ–ø-10 –∏–∑ —Å—Ö–µ–º—ã Sales
EXEC usp_ShowTopTables @TopCount = 3, @SchemaName = 'Production'; -- –¢–æ–ø-3 –∏–∑ Production
```

### **üîπ –ü–∞—Ä–∞–º–µ—Ç—Ä NULL –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
```sql
CREATE PROCEDURE usp_SearchTables
    @TableName NVARCHAR(100) = NULL  -- NULL –∑–Ω–∞—á–∏—Ç "–Ω–µ —É–∫–∞–∑–∞–Ω–æ"
AS
BEGIN
    IF @TableName IS NULL
        -- –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ —É–∫–∞–∑–∞–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
        SELECT * FROM sys.tables ORDER BY name;
    ELSE
        -- –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä —É–∫–∞–∑–∞–Ω, –∏—â–µ–º –ø–æ –∏–º–µ–Ω–∏
        SELECT * FROM sys.tables 
        WHERE name LIKE '%' + @TableName + '%'
        ORDER BY name;
END
GO

-- –í—ã–∑–æ–≤—ã:
EXEC usp_SearchTables;                    -- –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã
EXEC usp_SearchTables @TableName = 'user'; -- –¢–∞–±–ª–∏—Ü—ã —Å "user" –≤ –∏–º–µ–Ω–∏
```

---

## **üìñ –ß–∞—Å—Ç—å 4. OUTPUT –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**

### **üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ OUTPUT –ø–∞—Ä–∞–º–µ—Ç—Ä—ã?**
OUTPUT –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è. –≠—Ç–æ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é SELECT –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö.

### **üîπ –ü—Ä–∏–º–µ—Ä —Å OUTPUT –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:**
```sql
CREATE PROCEDURE usp_CalculateDatabaseStats
    @DatabaseName NVARCHAR(100),
    @TableCount INT OUTPUT,           -- –í–µ—Ä–Ω–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü
    @ViewCount INT OUTPUT,            -- –í–µ—Ä–Ω–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
    @TotalSizeMB DECIMAL(10,2) OUTPUT -- –í–µ—Ä–Ω–µ—Ç –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä
AS
BEGIN
    -- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü
    SELECT @TableCount = COUNT(*)
    FROM sys.tables
    WHERE is_ms_shipped = 0;
    
    -- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π
    SELECT @ViewCount = COUNT(*)
    FROM sys.views;
    
    -- –†–∞–∑–º–µ—Ä –±–∞–∑—ã
    SELECT @TotalSizeMB = 
        CAST(SUM(size) * 8 / 1024.0 AS DECIMAL(10,2))
    FROM sys.master_files
    WHERE database_id = DB_ID(@DatabaseName);
END
GO
```

### **üîπ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OUTPUT –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:**
```sql
-- –®–∞–≥ 1: –û–±—ä—è–≤–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
DECLARE @Tables INT;
DECLARE @Views INT;
DECLARE @SizeMB DECIMAL(10,2);

-- –®–∞–≥ 2: –í—ã–∑—ã–≤–∞–µ–º –ø—Ä–æ—Ü–µ–¥—É—Ä—É —Å OUTPUT
EXEC usp_CalculateDatabaseStats 
    @DatabaseName = 'AdventureWorks',
    @TableCount = @Tables OUTPUT,    -- –ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ OUTPUT!
    @ViewCount = @Views OUTPUT,
    @TotalSizeMB = @SizeMB OUTPUT;

-- –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
PRINT '=== –†–ï–ó–£–õ–¨–¢–ê–¢–´ –î–õ–Ø AdventureWorks ===';
PRINT '–¢–∞–±–ª–∏—Ü: ' + CAST(@Tables AS VARCHAR);
PRINT '–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–π: ' + CAST(@Views AS VARCHAR);
PRINT '–†–∞–∑–º–µ—Ä: ' + CAST(@SizeMB AS VARCHAR) + ' –ú–ë';
```

### **üîπ OUTPUT vs RETURN: —á—Ç–æ –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?**

| –ö—Ä–∏—Ç–µ—Ä–∏–π | OUTPUT –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | RETURN |
|----------|------------------|--------|
| **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π** | –ú–Ω–æ–≥–æ (—Å–∫–æ–ª—å–∫–æ –Ω—É–∂–Ω–æ) | –û–¥–Ω–æ (—Ç–æ–ª—å–∫–æ INT) |
| **–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö** | –õ—é–±–æ–π | –¢–æ–ª—å–∫–æ INT |
| **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** | –í–æ–∑–≤—Ä–∞—Ç –¥–∞–Ω–Ω—ã—Ö | –ö–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ |
| **–ü—Ä–∏–º–µ—Ä** | –†–∞–∑–º–µ—Ä –ë–î, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–∞–±–ª–∏—Ü | 0=—É—Å–ø–µ—Ö, 1=–æ—à–∏–±–∫–∞ |

---

## **üìñ –ß–∞—Å—Ç—å 5. SET NOCOUNT ON - –í–∞–∂–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

### **üîπ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç SET NOCOUNT ON?**
–û—Ç–∫–ª—é—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è "—Å—Ç—Ä–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ" –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã.

```sql
CREATE PROCEDURE usp_OptimizedProcedure
AS
BEGIN
    SET NOCOUNT ON;  -- –í–°–ï–ì–î–ê —Å—Ç–∞–≤–∏—Ç—å –≤ –Ω–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã!
    
    -- –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å...
    
    -- SET NOCOUNT OFF; -- –ù–µ –Ω—É–∂–Ω–æ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–æ—Å–∏—Ç—Å—è
END
GO
```

### **üîπ –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?**

**–ë–ï–ó SET NOCOUNT ON:**
```
(1 row affected)
(10 rows affected) 
(25 rows affected)
-- –≠—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –º–µ—à–∞—é—Ç –∏ –∑–∞–º–µ–¥–ª—è—é—Ç —Ä–∞–±–æ—Ç—É
```

**–° SET NOCOUNT ON:**
```
-- –ß–∏—Å—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
```

### **üîπ 3 –ø—Ä–∏—á–∏–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SET NOCOUNT ON:**

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –º–µ–Ω—å—à–µ —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
2. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** ‚Äî —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
3. **–°—Ç–∞–Ω–¥–∞—Ä—Ç** ‚Äî –≤—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ

### **üîπ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä:**
```sql
CREATE PROCEDURE usp_GetServerStatistics
AS
BEGIN
    SET NOCOUNT ON;  -- ‚Üê –í–ê–ñ–ù–û!
    
    DECLARE @StartTime DATETIME = GETDATE();
    DECLARE @DatabaseCount INT;
    
    -- –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    SELECT @DatabaseCount = COUNT(*)
    FROM sys.databases
    WHERE state = 0;
    
    -- –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    SELECT 
        '–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞' AS ReportType,
        @DatabaseCount AS DatabaseCount,
        DATEDIFF(MILLISECOND, @StartTime, GETDATE()) AS ExecutionTimeMs;
    
    -- –ù–∏–∫–∞–∫–∏—Ö "(1 row affected)" –Ω–µ –±—É–¥–µ—Ç!
END
GO
```

---

## **üìñ –ß–∞—Å—Ç—å 6. –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–±–æ—Ç—ã —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏**

### **üîπ 1. –í—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:**
```sql
-- –ü–õ–û–•–û:
DECLARE @Name VARCHAR(255);  -- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –¥–ª—è –∏–º–µ–Ω–∏
DECLARE @Age FLOAT;          -- FLOAT –¥–ª—è —Ü–µ–ª–æ–≥–æ —á–∏—Å–ª–∞

-- –•–û–†–û–®–û:
DECLARE @Name NVARCHAR(50);  -- Unicode, —Ä–∞–∑—É–º–Ω–∞—è –¥–ª–∏–Ω–∞
DECLARE @Age TINYINT;        -- –¶–µ–ª–æ–µ —á–∏—Å–ª–æ, –º–∞–ª–æ –ø–∞–º—è—Ç–∏
```

### **üîπ 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
```sql
-- –ü–õ–û–•–û:
DECLARE @Count INT;
PRINT @Count;  -- NULL!

-- –•–û–†–û–®–û:
DECLARE @Count INT = 0;
PRINT @Count;  -- 0
```

### **üîπ 3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ –∏–º–µ–Ω–∞:**
```sql
-- –ü–õ–û–•–û:
DECLARE @a INT, @b INT, @c INT;

-- –•–û–†–û–®–û:
DECLARE 
    @DatabaseCount INT,
    @TableCount INT,
    @UserCount INT;
```

### **üîπ 4. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ NULL –∑–Ω–∞—á–µ–Ω–∏—è:**
```sql
-- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ISNULL –∏–ª–∏ COALESCE
DECLARE @UserName NVARCHAR(100) = NULL;

PRINT '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ' + ISNULL(@UserName, '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ');
-- –∏–ª–∏
PRINT '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ' + COALESCE(@UserName, '–ì–æ—Å—Ç—å', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ');
```

### **üîπ 5. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```sql
CREATE PROCEDURE usp_SafeProcedure
    @DatabaseName NVARCHAR(100)
AS
BEGIN
    SET NOCOUNT ON;
    
    -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
    IF @DatabaseName IS NULL OR LTRIM(RTRIM(@DatabaseName)) = ''
    BEGIN
        PRINT '–û—à–∏–±–∫–∞: –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö';
        RETURN 1;  -- –ö–æ–¥ –æ—à–∏–±–∫–∏
    END
    
    -- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥...
    RETURN 0;  -- –£—Å–ø–µ—Ö
END
GO
```

---

## **üìã –®–ø–∞—Ä–≥–∞–ª–∫–∞: –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ SQL Server**

### **–¢–µ–∫—Å—Ç–æ–≤—ã–µ:**
- `CHAR(n)` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞, –¥–æ 8000 —Å–∏–º–≤–æ–ª–æ–≤
- `VARCHAR(n)` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª–∏–Ω–∞, –¥–æ 8000 —Å–∏–º–≤–æ–ª–æ–≤
- `VARCHAR(MAX)` ‚Äî –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π —Ç–µ–∫—Å—Ç, –¥–æ 2GB
- `NVARCHAR(n)` ‚Äî Unicode —Ç–µ–∫—Å—Ç, –¥–æ 4000 —Å–∏–º–≤–æ–ª–æ–≤
- `NVARCHAR(MAX)` ‚Äî Unicode, –¥–æ 2GB

### **–ß–∏—Å–ª–æ–≤—ã–µ —Ü–µ–ª—ã–µ:**
- `TINYINT` ‚Äî 0-255 (1 –±–∞–π—Ç)
- `SMALLINT` ‚Äî -32768 –¥–æ 32767 (2 –±–∞–π—Ç–∞)
- `INT` ‚Äî -2^31 –¥–æ 2^31-1 (4 –±–∞–π—Ç–∞) ‚òÖ **–°–∞–º—ã–π —á–∞—Å—Ç—ã–π!**
- `BIGINT` ‚Äî –æ—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —á–∏—Å–ª–∞ (8 –±–∞–π—Ç)

### **–ß–∏—Å–ª–æ–≤—ã–µ –¥—Ä–æ–±–Ω—ã–µ:**
- `DECIMAL(p,s)` ‚Äî —Ç–æ—á–Ω—ã–µ —á–∏—Å–ª–∞ (–¥–µ–Ω—å–≥–∏)
- `NUMERIC(p,s)` ‚Äî —Ç–æ –∂–µ —á—Ç–æ DECIMAL
- `FLOAT` ‚Äî –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞
- `REAL` ‚Äî –º–µ–Ω—å—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å —á–µ–º FLOAT

### **–î–∞—Ç–∞/–≤—Ä–µ–º—è:**
- `DATE` ‚Äî —Ç–æ–ª—å–∫–æ –¥–∞—Ç–∞
- `TIME` ‚Äî —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º—è
- `DATETIME` ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
- `DATETIME2` ‚Äî –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π DATETIME
- `SMALLDATETIME` ‚Äî –º–µ–Ω—å—à–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω

### **–õ–æ–≥–∏—á–µ—Å–∫–∏–µ:**
- `BIT` ‚Äî 0 –∏–ª–∏ 1 (TRUE/FALSE)

### **–ë–∏–Ω–∞—Ä–Ω—ã–µ:**
- `BINARY(n)` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `VARBINARY(n)` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `VARBINARY(MAX)` ‚Äî –±–æ–ª—å—à–∏–µ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ñ–∞–π–ª—ã)

---

## **üéØ –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è**

### **‚úÖ 5 –≤–µ—â–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å:**

1. **–¢–∏–ø –¥–∞–Ω–Ω—ã—Ö –≤–∞–∂–µ–Ω** ‚Äî –≤—ã–±–∏—Ä–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
2. **DECLARE –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è** ‚Äî `DECLARE @–ò–º—è –¢–∏–ø`
3. **SET –∏–ª–∏ SELECT –¥–ª—è –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è** ‚Äî SET –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ, SELECT –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ
4. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–µ–ª–∞—é—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –≥–∏–±–∫–∏–º–∏** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
5. **SET NOCOUNT ON –≤—Å–µ–≥–¥–∞** ‚Äî –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

### **‚ùå 5 —á–∞—Å—Ç—ã—Ö –æ—à–∏–±–æ–∫:**

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VARCHAR –¥–ª—è —Ä—É—Å—Å–∫–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤** ‚Üí –ù—É–∂–µ–Ω NVARCHAR
2. **–ù–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** ‚Üí –í—Å–µ–≥–¥–∞ –∑–∞–¥–∞–≤–∞–π—Ç–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
3. **–ó–∞–±—ã–≤–∞—é—Ç OUTPUT –ø—Ä–∏ –≤—ã–∑–æ–≤–µ** ‚Üí –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä OUTPUT, —Ç–∞–∫ –∏ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ
4. **–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ —Ç–∏–ø—ã** ‚Üí –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ INT –µ—Å–ª–∏ —Ö–≤–∞—Ç–∏—Ç TINYINT
5. **–ù–µ—Ç SET NOCOUNT ON** ‚Üí –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ –Ω–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

---

## **üîú –ß—Ç–æ –±—É–¥–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–Ω—è—Ç–∏–∏?**

–ù–∞ **–õ–µ–∫—Ü–∏–∏ 13.3** –º—ã –∏–∑—É—á–∏–º:
1. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π SQL** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ "–Ω–∞ –ª–µ—Ç—É"
2. **–û–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** ‚Äî TRY...CATCH –±–ª–æ–∫–∏
3. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã** –≤ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö
4. **–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –∞–¥–º–∏–Ω-–ø—Ä–æ—Ü–µ–¥—É—Ä—ã**

**–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞:** –ü–æ–ø—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —á—Ç–æ–±—ã –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–Ω—è—Ç–∏–∏ –±—ã–ª–æ –ª–µ–≥—á–µ!

---

## **üìö –†–µ–∑—é–º–µ**

–°–µ–≥–æ–¥–Ω—è –≤—ã —É–∑–Ω–∞–ª–∏:
1. **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö SQL Server** ‚Äî –∫–∞–∫–∏–µ –±—ã–≤–∞—é—Ç –∏ –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** ‚Äî –∫–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
3. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ—Ü–µ–¥—É—Ä** ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏ —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. **OUTPUT –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** ‚Äî –∫–∞–∫ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
5. **SET NOCOUNT ON** ‚Äî –≤–∞–∂–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

**–ü–æ–º–Ω–∏—Ç–µ:** –•–æ—Ä–æ—à–æ –Ω–∞–ø–∏—Å–∞–Ω–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ã—Å—Ç—Ä–µ–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ!

---

### üîô üìö üîú –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É

| [–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR13_1.MD) | &nbsp; | [–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR13_2.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| üè† [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ13.1](../LESSONS/PR13_1.MD) | üìñ [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | üíª [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ13.2](../LESSONS/PR13_2.MD) |

---
