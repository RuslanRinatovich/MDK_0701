### üîô üìö üîú –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É

| [–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR5.MD) | &nbsp; | [–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR6.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| üè† [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ5](../LESSONS/PR5.MD) | üìñ [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | üíª [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ6](../LESSONS/PR6.MD) |

---

üéì **–õ–µ–∫—Ü–∏—è 7. –ò–Ω–¥–µ–∫—Å—ã: –∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–µ, –Ω–µ–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–µ, –ø–æ–∫—Ä—ã—Ç–∏—è**  
‚è±Ô∏è **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 90 –º–∏–Ω—É—Ç  
üéØ **–¶–µ–ª—å –ª–µ–∫—Ü–∏–∏**:  
–ù–∞—É—á–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –ø–æ–Ω–∏–º–∞—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ **–∏–Ω–¥–µ–∫—Å–æ–≤ (indexes)** –≤ Microsoft SQL Server, —Ä–∞–∑–ª–∏—á–∞—Ç—å **–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–µ (clustered)** –∏ **–Ω–µ–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–µ (nonclustered)** –∏–Ω–¥–µ–∫—Å—ã, –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å **–ø–æ–∫—Ä—ã–≤–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã (covering indexes)** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **INCLUDE-—Å—Ç–æ–ª–±—Ü–æ–≤**, –∏ —É—Å—Ç—Ä–∞–Ω—è—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∏–µ –∫–∞–∫ **Key Lookup**.

---

### üìñ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤ (—Ä—É—Å—Å–∫–∏–π ‚Üî –∞–Ω–≥–ª–∏–π—Å–∫–∏–π)

> üí° **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É —Ç–∞–±–ª–∏—Ü—É –∫–∞–∫ —à–ø–∞—Ä–≥–∞–ª–∫—É** ‚Äî –≤—Å–µ —Ç–µ—Ä–º–∏–Ω—ã –¥–∞–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∏–º–µ–Ω–Ω–æ —Ç–∞–∫.

| –†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω | –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ |
|----------------|-------------------|---------------------|
| **–ò–Ω–¥–µ–∫—Å** | **Index** | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, —É—Å–∫–æ—Ä—è—é—â–∞—è –ø–æ–∏—Å–∫ –ø–æ —Å—Ç–æ–ª–±—Ü–∞–º. |
| **–ö–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å** | **Clustered Index** | –ò–Ω–¥–µ–∫—Å, –∫–æ—Ç–æ—Ä—ã–π **—Ñ–∏–∑–∏—á–µ—Å–∫–∏ —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ** –≤ —Ç–∞–±–ª–∏—Ü–µ. –ù–∞ —Ç–∞–±–ª–∏—Ü—É ‚Äî —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω. |
| **–ù–µ–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å** | **Nonclustered Index** | –ò–Ω–¥–µ–∫—Å, —Ö—Ä–∞–Ω—è—â–∏–π—Å—è **–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –¥–∞–Ω–Ω—ã—Ö**. –°–æ–¥–µ—Ä–∂–∏—Ç –∫–ª—é—á + —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç—Ä–æ–∫—É. –ú–æ–∂–Ω–æ –¥–æ 999 —à—Ç. |
| **HEAP** | **HEAP** | –¢–∞–±–ª–∏—Ü–∞ **–±–µ–∑ clustered index‚Äô–∞**. –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –≤—Å—Ç–∞–≤–∫–∏ (¬´–∫—É—á–∞¬ª). |
| **–ö–ª—é—á –∏–Ω–¥–µ–∫—Å–∞** | **Index Key Column(s)** | –°—Ç–æ–ª–±—Ü—ã, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å—Ç—Ä–æ–∏—Ç—Å—è –∏–Ω–¥–µ–∫—Å (—É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø–æ–∏—Å–∫–µ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ). |
| **INCLUDE-—Å—Ç–æ–ª–±—Ü—ã** | **Included Column(s)** | –°—Ç–æ–ª–±—Ü—ã, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤ –ª–∏—Å—Ç—å—è –∏–Ω–¥–µ–∫—Å–∞ **—Ç–æ–ª—å–∫–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è**, –±–µ–∑ —É—á–∞—Å—Ç–∏—è –≤ –ø–æ–∏—Å–∫–µ/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ. |
| **–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å** | **Covering Index** | Nonclustered index, –≤ –∫–æ—Ç–æ—Ä–æ–º **–≤—Å–µ –Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã** —É–∂–µ –µ—Å—Ç—å (–∫–ª—é—á + INCLUDE) ‚Üí –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Ç–∞–±–ª–∏—Ü–µ. |
| **B-–¥–µ—Ä–µ–≤–æ** | **B-tree** (*Balanced Tree*) | –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤. –ì–ª—É–±–∏–Ω–∞ –º–∞–ª–∞ –¥–∞–∂–µ –ø—Ä–∏ –º–∏–ª–ª–∏–æ–Ω–∞—Ö —Å—Ç—Ä–æ–∫. |
| **–õ–∏—Å—Ç (–ª–∏—Å—Ç—å—è)** | **Leaf (Leaf Level / Leaf Node)** | –ù–∏–∂–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å B-–¥–µ—Ä–µ–≤–∞, –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è **—Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å–∞** (–∫–ª—é—á–∏ + INCLUDE –∏–ª–∏ –ø–æ–ª–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ ‚Äî –¥–ª—è clustered). |
| **Table Scan** | **Table Scan** | –ü–æ–ª–Ω–æ–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã (–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –æ–±—ä—ë–º–µ). |
| **Index Scan** | **Index Scan** | –ü–æ–ª–Ω–æ–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø–∏—Å–µ–π –≤ –∏–Ω–¥–µ–∫—Å–µ (–ª—É—á—à–µ Table Scan, –Ω–æ —Ö—É–∂–µ Seek). |
| **Index Seek** | **Index Seek** | –ë—ã—Å—Ç—Ä—ã–π **—Ç–æ—á–µ—á–Ω—ã–π –ø–æ–∏—Å–∫** –ø–æ –∏–Ω–¥–µ–∫—Å—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –∫–ª—é—á–∞). –¶–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. |
| **Key Lookup** | **Key Lookup (Clustered)** | **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ clustered index‚Äô—É** (–∏–ª–∏ HEAP‚Äô—É), —á—Ç–æ–±—ã ¬´–¥–æ–±–∏—Ç—å¬ª –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã. **–ó–∞–º–µ–¥–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å** ‚Äî –Ω—É–∂–Ω–æ –∏–∑–±–µ–≥–∞—Ç—å. *(–†–∞–Ω–µ–µ –Ω–∞–∑—ã–≤–∞–ª—Å—è Bookmark Lookup)* |
| **Execution Plan** | **Execution Plan** | –ü–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ ‚Äî ¬´—Ä–µ—Ü–µ–ø—Ç¬ª, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É SQL Server –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å. –í–∞–∂–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. |

> üîç **–û—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ: Key Lookup**  
> ‚Äî –ü–æ—è–≤–ª—è–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –≤ nonclustered index‚Äô–µ **–Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç —Å—Ç–æ–ª–±—Ü–æ–≤**, –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã—Ö –≤ `SELECT`.  
> ‚Äî –í **Actual Execution Plan** –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä (—á–∞—Å—Ç–æ —Å –≤—ã—Å–æ–∫–∏–º % cost).  
> ‚Äî –†–µ—à–µ–Ω–∏–µ: —Å–¥–µ–ª–∞—Ç—å –∏–Ω–¥–µ–∫—Å **–ø–æ–∫—Ä—ã–≤–∞—é—â–∏–º / covering** —Å –ø–æ–º–æ—â—å—é `INCLUDE`.

---

### 1. –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∏–Ω–¥–µ–∫—Å—ã / indexes? –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä

üîç **–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ**:  
–£ –≤–∞—Å –µ—Å—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ ‚Äî 100 000 —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ `Students`.  
–¢–∞–±–ª–∏—Ü–∞ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞ ‚Äî —ç—Ç–æ –∫–∞–∫ **–æ–±—ã—á–Ω–∞—è —Ç–µ—Ç—Ä–∞–¥—å**, –≥–¥–µ –∑–∞–ø–∏—Å–∏ –∏–¥—É—Ç –≤ –ø–æ—Ä—è–¥–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:  
```
1. –ü–µ—Ç—Ä–æ–≤ –ê.  
2. –°–∏–¥–æ—Ä–æ–≤–∞ –ö.  
3. –ò–≤–∞–Ω–æ–≤ –î.  
...
100000. –°–º–∏—Ä–Ω–æ–≤–∞ –ï.
```

–í–∞–º –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤—Å–µ—Ö –∏–∑ –≥—Ä—É–ø–ø—ã **¬´–ò–°-22¬ª**.

‚û°Ô∏è –ë–µ–∑ –∏–Ω–¥–µ–∫—Å–∞ SQL Server –¥–µ–ª–∞–µ—Ç **Table Scan** ‚Äî —á–∏—Ç–∞–µ—Ç –≤—Å–µ 100 000 —Å—Ç—Ä–æ–∫.  
‚Üí –≠—Ç–æ –º–µ–¥–ª–µ–Ω–Ω–æ. –û—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ —Ç–∞–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Äî —Ç—ã—Å—è—á–∏ –≤ –º–∏–Ω—É—Ç—É.

–¢–µ–ø–µ—Ä—å –ø—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ: –≤—ã —Å–æ–∑–¥–∞–ª–∏ **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å / index** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—É—é ¬´—Ç–µ—Ç—Ä–∞–¥–∫—É-–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ¬ª:  
```
¬´–ò–°-22¬ª ‚Üí —Å—Ç—Ä–æ–∫–∏ ‚Ññ 1, 3, 7, 15‚Ä¶  
¬´–ò–°-23¬ª ‚Üí —Å—Ç—Ä–æ–∫–∏ ‚Ññ 2, 4, 9, 20‚Ä¶
```

‚û°Ô∏è –¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ ‚Äî –∑–∞ –¥–æ–ª–∏ —Å–µ–∫—É–Ω–¥—ã. –≠—Ç–æ –∏ –µ—Å—Ç—å **–∏–Ω–¥–µ–∫—Å (index)**.

üí° **–ò–Ω–¥–µ–∫—Å / index** ‚Äî —ç—Ç–æ **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö**, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–æ–ª–±—Ü–æ–≤.

> ‚ö†Ô∏è –ù–æ: –∏–Ω–¥–µ–∫—Å –Ω—É–∂–Ω–æ **–æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏ INSERT/UPDATE/DELETE** ‚Üí –∑–∞–ø–∏—Å—å –Ω–µ–º–Ω–æ–≥–æ –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è.  
> ‚Üí –¶–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ ‚Äî –Ω–∞–π—Ç–∏ –±–∞–ª–∞–Ω—Å: **—É—Å–∫–æ—Ä–µ–Ω–∏–µ —á—Ç–µ–Ω–∏—è ‚Üî –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –∑–∞–ø–∏—Å—å**.

---

### 2. –î–≤–∞ –≤–∏–¥–∞ –∏–Ω–¥–µ–∫—Å–æ–≤: clustered –∏ nonclustered

–í SQL Server —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞ –∏–Ω–¥–µ–∫—Å–æ–≤:

| –¢–∏–ø | –†—É—Å—Å–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ | –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç | –ú–∞–∫—Å–∏–º—É–º –Ω–∞ —Ç–∞–±–ª–∏—Ü—É |
|-----|------------------|--------------|---------------------|
| **Clustered Index** | **–ö–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å** | –§–∏–∑–∏—á–µ—Å–∫–∏ **—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ** (–∫–∞–∫ –ø–µ—Ä–µ–ø–ª—ë—Ç –∫–Ω–∏–≥–∏ –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É). | **1** |
| **Nonclustered Index** | **–ù–µ–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å** | –•—Ä–∞–Ω–∏—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç –¥–∞–Ω–Ω—ã—Ö** ‚Äî –∫–∞–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ: ¬´–∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä–æ–∫—É¬ª. | **999** |

üìå **–ê–Ω–∞–ª–æ–≥–∏—è**:  
- **Clustered Index** = —Å–∞–º–∞ –∫–Ω–∏–≥–∞, –ø–µ—Ä–µ–ø–ª–µ—Ç—ë–Ω–Ω–∞—è –ø–æ —Ñ–∞–º–∏–ª–∏—è–º.  
- **Nonclustered Index** = –±—É–º–∞–∂–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ: ¬´–ò–≤–∞–Ω–æ–≤ ‚Üí —Å—Ç—Ä. 42¬ª.

‚ùó **–í–∞–∂–Ω–æ**:  
- –ï—Å–ª–∏ —É —Ç–∞–±–ª–∏—Ü—ã **–Ω–µ—Ç clustered index**, –æ–Ω–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **HEAP** (¬´–∫—É—á–∞¬ª) ‚Äî —Å—Ç—Ä–æ–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ –≤—Å—Ç–∞–≤–∫–∏.  
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ `PRIMARY KEY` –±–µ–∑ —É—Ç–æ—á–Ω–µ–Ω–∏—è SQL Server –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç **clustered index**.

---

### 3. Clustered Index ‚Äî ¬´–æ—Å–Ω–æ–≤–∞¬ª —Ç–∞–±–ª–∏—Ü—ã

üí° **–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω clustered index**:  
–î–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ **—É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ–º –≤–∏–¥–µ** ‚Äî –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –Ω–∞–∑—ã–≤–∞–µ–º–æ–π **B-tree** (**B-–¥–µ—Ä–µ–≤–æ**, –æ—Ç *Balanced Tree* ‚Äî —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ).

‚Üí –í –ª–∏—Å—Ç—å—è—Ö (leaf level) B-–¥–µ—Ä–µ–≤–∞ –ª–µ–∂–∞—Ç **–ø–æ–ª–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö**.  
‚Üí –í–µ—Ä—Ö–Ω–∏–µ —É—Ä–æ–≤–Ω–∏ ‚Äî –∫–∞–∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ: ¬´–ê‚Äì–ì ‚Üí –ª–∏—Å—Ç 1¬ª, ¬´–î‚Äì–ö ‚Üí –ª–∏—Å—Ç 2¬ª –∏ —Ç.–¥.

üîß **–ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è clustered index**:
```sql
-- –ß–∞—â–µ –≤—Å–µ–≥–æ –¥–µ–ª–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ PRIMARY KEY
ALTER TABLE Students 
ADD CONSTRAINT PK_Students PRIMARY KEY CLUSTERED (student_id);
```

‚úÖ **–ö–æ–≥–¥–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω clustered index**:  
- `WHERE student_id = 123` ‚Üí **Clustered Index Seek** (—Ç–æ—á–Ω—ã–π –ø–æ–∏—Å–∫),  
- `WHERE student_id BETWEEN 100 AND 200` ‚Üí **Clustered Index Seek + Range Scan**,  
- `ORDER BY student_id` ‚Üí —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** (–¥–∞–Ω–Ω—ã–µ —É–∂–µ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã).

‚õî **–ù–µ –¥–µ–ª–∞–π—Ç–µ clustered index –ø–æ**:  
- `NVARCHAR(255)` (–¥–ª–∏–Ω–Ω—ã–π –∫–ª—é—á ‚Üí —Ä–æ—Å—Ç B-–¥–µ—Ä–µ–≤–∞),  
- —á–∞—Å—Ç–æ –∏–∑–º–µ–Ω—è–µ–º—ã–º —Å—Ç–æ–ª–±—Ü–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `group_code`) ‚Üí –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ = –¥–æ—Ä–æ–≥–æ.

---

### 4. Nonclustered Index –∏ –ø—Ä–æ–±–ª–µ–º–∞ Key Lookup

–î–æ–ø—É—Å—Ç–∏–º, –≤—ã —Å–æ–∑–¥–∞–ª–∏ **nonclustered index** –ø–æ –≥—Ä—É–ø–ø–µ:
```sql
CREATE NONCLUSTERED INDEX IX_Students_Group 
ON Students(group_code);
```

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å ¬´–æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ¬ª:
```
¬´–ò–°-22¬ª ‚Üí [student_id = 1], [student_id = 3], [student_id = 7]‚Ä¶
```

–ù–æ! –í —ç—Ç–æ–º –∏–Ω–¥–µ–∫—Å–µ ‚Äî **—Ç–æ–ª—å–∫–æ `group_code` –∏ `student_id`** (–∫–ª—é—á clustered index‚Äô–∞, —Ç.–∫. –æ–Ω –µ—Å—Ç—å).

‚û°Ô∏è –í—ã–ø–æ–ª–Ω—è–µ—Ç–µ –∑–∞–ø—Ä–æ—Å:
```sql
SELECT full_name, email 
FROM Students 
WHERE group_code = '–ò–°-22';
```

–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:  
1. SQL Server –Ω–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—ã–µ `student_id` —á–µ—Ä–µ–∑ **Index Seek** –ø–æ `IX_Students_Group`,  
2. –î–ª—è –∫–∞–∂–¥–æ–π –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ **–æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ clustered index‚Äô—É** (–∏–ª–∏ –∫ HEAP‚Äô—É), —á—Ç–æ–±—ã –ø—Ä–æ—á–∏—Ç–∞—Ç—å `full_name` –∏ `email`.  
‚Üí –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **Key Lookup (Clustered)** ‚Äî –≤ –ø–ª–∞–Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–Ω–∞ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –∫—Ä–∞—Å–Ω—ã–º.

üîç **Key Lookup** ‚Äî –≥–ª–∞–≤–Ω—ã–π ¬´—Ç–æ—Ä–º–æ–∑¬ª –≤ –ø–ª–æ—Ö–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–Ω–¥–µ–∫—Å–∞—Ö.

---

### 5. Covering Index ‚Äî –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å (—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã Key Lookup)

üí° **–ò–¥–µ—è**: —Å–¥–µ–ª–∞—Ç—å nonclustered index —Ç–∞–∫–∏–º, —á—Ç–æ–±—ã –≤ –Ω—ë–º **—É–∂–µ –±—ã–ª–∏ –≤—Å–µ –Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã**.

–î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:  
- **–ö–ª—é—á –∏–Ω–¥–µ–∫—Å–∞ (index key columns)** ‚Äî –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏,  
- **INCLUDE-—Å—Ç–æ–ª–±—Ü—ã (included columns)** ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ª–∏—Å—Ç—å—è—Ö, **–Ω–µ —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –ø–æ–∏—Å–∫–µ**.

üîß **–ü—Ä–∏–º–µ—Ä –ø–æ–∫—Ä—ã–≤–∞—é—â–µ–≥–æ –∏–Ω–¥–µ–∫—Å–∞ / covering index**:
```sql
CREATE NONCLUSTERED INDEX IX_Students_Group_Cover 
ON Students(group_code)          -- index key column
INCLUDE (full_name, email);      -- included columns
```

–¢–µ–ø–µ—Ä—å –≤ –ª–∏—Å—Ç—å—è—Ö –∏–Ω–¥–µ–∫—Å–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è:
```
¬´–ò–°-22¬ª ‚Üí 
   [full_name = '–ò–≤–∞–Ω–æ–≤ –î.', email = 'ivanov@college.ru'],  
   [full_name = '–ü–µ—Ç—Ä–æ–≤ –ê.', email = 'petrov@college.ru']
```

‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:  
- –ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ **–æ–¥–∏–Ω Index Seek**,  
- **Key Lookup –∏—Å—á–µ–∑–∞–µ—Ç**,  
- `logical reads` –ø–∞–¥–∞—é—Ç –≤ 10‚Äì100 —Ä–∞–∑.

üìå **–ü–æ—á–µ–º—É INCLUDE –ª—É—á—à–µ, —á–µ–º –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–ª–±—Ü—ã –≤ –∫–ª—é—á?**  
|                     | –í –∫–ª—é—á–µ / key column | –í INCLUDE / included column |
|---------------------|----------------------|-----------------------------|
| –£—á–∞—Å—Ç–≤—É–µ—Ç –≤ –ø–æ–∏—Å–∫–µ (`WHERE`)? | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| –£—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ (`ORDER BY`)? | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |
| –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –≤–µ—Ä—Ö–Ω–∏—Ö —É—Ä–æ–≤–Ω–µ–π B-–¥–µ—Ä–µ–≤–∞? | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç (—Ç–æ–ª—å–∫–æ –ª–∏—Å—Ç—å—è) |
| –ú–æ–∂–Ω–æ `NVARCHAR(MAX)`? | ‚ùå –ù–µ—Ç (–ª–∏–º–∏—Ç 900 –±–∞–π—Ç) | ‚úÖ –î–∞ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ —Ä–∞–∑–º–µ—Ä–æ–º –ª–∏—Å—Ç–∞: 8 –ö–ë) |

> ‚úÖ **–ü—Ä–∞–≤–∏–ª–æ**:  
> ‚Äî –§–∏–ª—å—Ç—Ä—É–µ—Ç–µ/—Å–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ ‚Üí –≤ **–∫–ª—é—á / key columns**,  
> ‚Äî –¢–æ–ª—å–∫–æ –≤—ã–±–∏—Ä–∞–µ—Ç–µ ‚Üí –≤ **INCLUDE / included columns**.

---

### 6. –ß—Ç–æ —Ç–∞–∫–æ–µ B-tree? –û–±—ä—è—Å–Ω—è–µ–º –ø–æ-—Ä—É—Å—Å–∫–∏ (–Ω–æ –Ω–∞–∑—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ)

–í—ã —Å–ø—Ä–æ—Å–∏—Ç–µ: *¬´–ê –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω index –≤–Ω—É—Ç—Ä–∏?¬ª*

–û—Ç–≤–µ—Ç: –ø–æ—á—Ç–∏ –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã –≤ SQL Server –∏—Å–ø–æ–ª—å–∑—É—é—Ç **B-tree** (**B-–¥–µ—Ä–µ–≤–æ**, –æ—Ç *Balanced Tree* ‚Äî —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ –ø–æ–∏—Å–∫–∞).

üîç **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç B-tree**:  
- –≠—Ç–æ **–∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: –∫–æ—Ä–µ–Ω—å ‚Üí –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ ‚Üí –ª–∏—Å—Ç—å—è (leaf nodes).  
- –ù–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ ‚Äî **–ø—Ä–∏–º–µ—Ä–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ç–æ–∫** ‚Üí –¥–µ—Ä–µ–≤–æ –æ—Å—Ç–∞—ë—Ç—Å—è ¬´–Ω–∏–∑–∫–∏–º¬ª.  
- –î–∞–∂–µ –ø—Ä–∏ 1 000 000 —Å—Ç—Ä–æ–∫ –≥–ª—É–±–∏–Ω–∞ B-–¥–µ—Ä–µ–≤–∞ ‚Äî –æ–±—ã—á–Ω–æ **3‚Äì4 —É—Ä–æ–≤–Ω—è**.

‚û°Ô∏è –ü–æ–∏—Å–∫:  
1. –ò–¥—ë–º –æ—Ç –∫–æ—Ä–Ω—è: ¬´–ò–°-22¬ª ‚Üí –≤–µ—Ç–∫–∞ ¬´–ò‚Äì–ö¬ª,  
2. –ù–∞ –≤—Ç–æ—Ä–æ–º —É—Ä–æ–≤–Ω–µ: ¬´–ò–°¬ª ‚Üí –≤–µ—Ç–∫–∞ ¬´–ò–°-20 ‚Äî –ò–°-24¬ª,  
3. –ù–∞ –ª–∏—Å—Ç–µ ‚Äî –Ω—É–∂–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏.  
‚Üí –í—Å–µ–≥–æ **3 —à–∞–≥–∞** –≤–º–µ—Å—Ç–æ 1 000 000.

üí° **–ü–æ—á–µ–º—É B-tree?**  
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –¥–∏—Å–∫—É (I/O),  
- –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–ª–æ—á–Ω–æ–π –ø–∞–º—è—Ç—å—é (—Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ 8 –ö–ë),  
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å—Ç–∞–≤–∫—É/—É–¥–∞–ª–µ–Ω–∏–µ –±–µ–∑ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∏.

---

### 7. –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤: best practices

‚úÖ **–î–µ–ª–∞–π—Ç–µ —Ç–∞–∫**:  
1. –í—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Å **clustered index** (–æ–±—ã—á–Ω–æ –ø–æ `PRIMARY KEY`).  
2. –°–æ–∑–¥–∞–≤–∞–π—Ç–µ **nonclustered indexes** –ø–æ–¥ **—Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** (–Ω–µ ¬´–Ω–∞ –±—É–¥—É—â–µ–µ¬ª).  
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **covering indexes** —Å `INCLUDE`, —á—Ç–æ–±—ã —É—Å—Ç—Ä–∞–Ω–∏—Ç—å **Key Lookup**.  
4. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ **Actual Execution Plan** ‚Üí –∏—â–∏—Ç–µ:  
   - `Key Lookup` ‚Äî —Ç—Ä–µ–≤–æ–∂–Ω—ã–π —Å–∏–≥–Ω–∞–ª,  
   - `Index Scan` –≤–º–µ—Å—Ç–æ `Index Seek` ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, –∏–Ω–¥–µ–∫—Å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.  
5. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:  
   ```sql
   SELECT 
       OBJECT_NAME(i.object_id) AS table_name,
       i.name AS index_name,
       s.user_seeks,         -- —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞
       s.user_scans,         -- —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–ª—Å—è —Ü–µ–ª–∏–∫–æ–º
       s.user_updates        -- —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –æ–±–Ω–æ–≤–ª—è–ª—Å—è (INSERT/UPDATE/DELETE)
   FROM sys.indexes i
   LEFT JOIN sys.dm_db_index_usage_stats s 
        ON i.object_id = s.object_id AND i.index_id = s.index_id
   WHERE i.object_id = OBJECT_ID('Students');
   ```

‚õî **–ò–∑–±–µ–≥–∞–π—Ç–µ**:  
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ –æ–¥–Ω—É —Ç–∞–±–ª–∏—Ü—É (–Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã),  
- –ò–Ω–¥–µ–∫—Å–æ–≤ –Ω–∞ `BIT`, `STATUS` —Å 2‚Äì3 –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ (–Ω–∏–∑–∫–∞—è —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Üí –ª—É—á—à–µ Table Scan),  
- –î–ª–∏–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π (`VARCHAR(255)`) ‚Äî —Ä–æ—Å—Ç –≥–ª—É–±–∏–Ω—ã B-–¥–µ—Ä–µ–≤–∞.

---

### 8. –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏

1. –ü–æ—á–µ–º—É –Ω–∞ —Ç–∞–±–ª–∏—Ü—É –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω clustered index**?  
2. –ß—Ç–æ —Ç–∞–∫–æ–µ **Key Lookup** –∏ –ø–æ—á–µ–º—É –æ–Ω –∑–∞–º–µ–¥–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å?  
3. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É **key column** –∏ **included column**?  
4. –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –∏–Ω–¥–µ–∫—Å –≤ –∑–∞–ø—Ä–æ—Å–µ?  
5. –ú–æ–∂–µ—Ç –ª–∏ **covering index** —É—Å–∫–æ—Ä–∏—Ç—å `SELECT *`? –ü–æ—á–µ–º—É?

---

### 9. –ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ –∏ –ø–µ—Ä–µ—Ö–æ–¥ –∫ –ø—Ä–∞–∫—Ç–∏–∫–µ

‚úÖ **–ì–ª–∞–≤–Ω–æ–µ ‚Äî –∑–∞–ø–æ–º–Ω–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω—ã –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã**:  
- **Index** = –∏–Ω–¥–µ–∫—Å ‚Äî —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–∏—Å–∫.  
- **Clustered index** = –∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å ‚Äî —É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (1 —à—Ç.).  
- **Nonclustered index** = –Ω–µ–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—É–∫–∞–∑–∞—Ç–µ–ª—å.  
- **Covering index** = –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å ‚Äî –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã (—á–µ—Ä–µ–∑ `INCLUDE`).  
- **Key Lookup** = –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –¥–∞–Ω–Ω—ã–º ‚Äî –Ω—É–∂–Ω–æ –∏–∑–±–µ–≥–∞—Ç—å.  
- **B-tree** = B-–¥–µ—Ä–µ–≤–æ ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–æ–≤.

üîú **–î–∞–ª–µ–µ**:  
–ù–∞ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç–µ ‚Ññ6** –≤—ã:  
- —Å–æ–∑–¥–∞–¥–∏—Ç–µ clustered –∏ nonclustered indexes,  
- —É–≤–∏–¥–∏—Ç–µ Key Lookup –≤ **Execution Plan**,  
- –ø–æ—Å—Ç—Ä–æ–∏—Ç–µ covering index —Å `INCLUDE`,  
- –∏–∑–º–µ—Ä–∏—Ç–µ, –≤–æ —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —É—Å–∫–æ—Ä–∏—Ç—Å—è –∑–∞–ø—Ä–æ—Å.

---

üìé **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã / Key Commands**

| –î–µ–π—Å—Ç–≤–∏–µ | –ö–æ–º–∞–Ω–¥–∞ |
|---------|---------|
| –°–æ–∑–¥–∞—Ç—å clustered index | `CREATE CLUSTERED INDEX IX_Name ON Table(col);` |
| –°–æ–∑–¥–∞—Ç—å nonclustered index | `CREATE NONCLUSTERED INDEX IX_Name ON Table(col);` |
| –°–æ–∑–¥–∞—Ç—å covering index | `CREATE NONCLUSTERED INDEX IX_Name ON Table(col_key) INCLUDE (col1, col2);` |
| –£–¥–∞–ª–∏—Ç—å –∏–Ω–¥–µ–∫—Å | `DROP INDEX IX_Name ON Table;` |
| –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω–¥–µ–∫—Å—ã —Ç–∞–±–ª–∏—Ü—ã | `EXEC sp_helpindex 'TableName';` |
| –í–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É I/O | `SET STATISTICS IO ON;` |
| –í–∫–ª—é—á–∏—Ç—å –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | –í SSMS: ‚úÖ *Include Actual Execution Plan* (**Ctrl+M**) |

---

üìú **–õ–∏—Ü–µ–Ω–∑–∏—è**: [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)  
üë®‚Äçüè´ **–ê–≤—Ç–æ—Ä**: –†—É—Å–ª–∞–Ω –†–∏–Ω–∞—Ç–æ–≤–∏—á –°–∞—Ñ–∏—É–ª–∏–Ω  
üìÖ **–î–∞—Ç–∞**: 13.11.2025  

---

### üîô üìö üîú –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É

| [–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR5.MD) | &nbsp; | [–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR6.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| üè† [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ5](../LESSONS/PR5.MD) | üìñ [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | üíª [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ6](../LESSONS/PR6.MD) |

---
