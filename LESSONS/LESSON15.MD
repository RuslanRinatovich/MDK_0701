# üîô üìö üîú –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É

| [–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR14.MD) | &nbsp; | [–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR15.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| üè† [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ14](../LESSONS/PR14.MD) | üìñ [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | üíª [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ15](../LESSONS/PR15.MD) |

---
# üéì –õ–µ–∫—Ü–∏—è 15. –¢–∏–ø—ã —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π: –ø–æ–ª–Ω–∞—è, —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è, –∂—É—Ä–Ω–∞–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

‚è±Ô∏è **–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 90 –º–∏–Ω—É—Ç  
üéØ **–¶–µ–ª—å –ª–µ–∫—Ü–∏–∏:**  
–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç—Ä—ë—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π –≤ SQL Server, –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è, –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏ –∏ –º–µ—Å—Ç–∞ –≤ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è. –°—Ç—É–¥–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –Ω–∞—É—á–∏—Ç—å—Å—è –≤—ã–±–∏—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –∫–æ–ø–∏–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏—è —Å–±–æ—è –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏.

---

## üìñ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤ (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏–∑ —Ä—É—Å—Å–∫–æ–π SSMS)

| –†—É—Å—Å–∫–∏–π —Ç–µ—Ä–º–∏–Ω (–≤ SSMS)               | –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç       | –ß—Ç–æ —ç—Ç–æ?                                                                                   |
|----------------------------------------|-----------------------------|--------------------------------------------------------------------------------------------|
| –ü–æ–ª–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è                | Full backup                 | –ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è –≤—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞—á–∞–ª–∞ backup'–∞.                                   |
| –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è            | Differential backup         | –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏–µ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏.                     |
| –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π    | Transaction log backup      | –ö–æ–ø–∏—è –∑–∞–ø–∏—Å–µ–π –∂—É—Ä–Ω–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö).                                  |
| –ö–æ–Ω–µ—á–Ω—ã–π –∂—É—Ä–Ω–∞–ª (—Ö–≤–æ—Å—Ç –∂—É—Ä–Ω–∞–ª–∞)       | Tail-log backup             | –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞, —Å–Ω—è—Ç–∞—è –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º (–¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π).|
| –ù–æ—Å–∏—Ç–µ–ª—å —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏              | Backup media                | –§–∏–∑–∏—á–µ—Å–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (–¥–∏—Å–∫, –ª–µ–Ω—Ç–∞, URL), –∫—É–¥–∞ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –±—ç–∫–∞–ø.                        |
| –ù–∞–±–æ—Ä —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π                 | Backup set                  | –û–¥–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –Ω–∞ –Ω–æ—Å–∏—Ç–µ–ª—å.                                            |
| –°–µ–º–µ–π—Å—Ç–≤–æ –Ω–æ—Å–∏—Ç–µ–ª–µ–π                   | Media family                | –í—Å–µ –Ω–æ—Å–∏—Ç–µ–ª–∏, —É—á–∞—Å—Ç–≤—É—é—â–∏–µ –≤ –æ–¥–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.                        |
| LSN (–Ω–æ–º–µ—Ä –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ)| Log Sequence Number        | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä, –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–π –∫–∞–∂–¥—É—é –∑–∞–ø–∏—Å—å –≤ –∂—É—Ä–Ω–∞–ª–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π.                    |
| –≠–∫—Å—Ç–µ–Ω—Ç                              | Extent                      | –ï–¥–∏–Ω–∏—Ü–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ ‚Äî 8 —Å–º–µ–∂–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ 8 –ö–ë = 64 –ö–ë.                        |
| –ë–∏—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —ç–∫—Å—Ç–µ–Ω—Ç–æ–≤              | Differential bitmap        | –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –æ—Ç–º–µ—á–∞—é—â–∞—è –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —ç–∫—Å—Ç–µ–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã—Ö –∫–æ–ø–∏–π.                 |

---

## 1. üéØ –ó–∞—á–µ–º –Ω—É–∂–Ω–æ —Ç—Ä–∏ —Ç–∏–ø–∞ –∫–æ–ø–∏–π? –ê–Ω–∞–ª–æ–≥–∏—è —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä–æ–≤–∞–Ω–∏–µ–º

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ –≤—ã –≤–µ–¥—ë—Ç–µ –≤–∏–¥–µ–æ–±–ª–æ–≥ –∏ —Å–Ω–∏–º–∞–µ—Ç–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å:

| –¢–∏–ø –∫–æ–ø–∏–∏ | –ê–Ω–∞–ª–æ–≥–∏—è | –°—É—Ç—å |
|-----------|----------|------|
| **–ü–æ–ª–Ω–∞—è** üì∏ | –ö–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –¥–µ–ª–∞–µ—Ç–µ **–ø–æ–ª–Ω–æ–µ —Ñ–æ—Ç–æ** –≤—Å–µ–≥–æ —Å–µ–±—è | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ü–µ–ª–∏–∫–æ–º |
| **–†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è** üìù | –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç–µ, —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å **—Å –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è** | –¢–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏ |
| **–ñ—É—Ä–Ω–∞–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** üé• | –í–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ –ø–∏—à–µ—Ç **–∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É** | –ö–∞–∂–¥–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è, –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ |

**–í–æ–ø—Ä–æ—Å:** –ï—Å–ª–∏ –≤ –ø—è—Ç–Ω–∏—Ü—É –≤–µ—á–µ—Ä–æ–º –∫–∞–º–µ—Ä–∞ —Å–ª–æ–º–∞–ª–∞—Å—å, —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –≤—ã –ø–æ—Ç–µ—Ä—è–µ—Ç–µ?
- –¢–æ–ª—å–∫–æ –ø–æ–ª–Ω–∞—è –∫–æ–ø–∏—è (–≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ) ‚Üí –ø–æ—Ç–µ—Ä—è–Ω—ã –≤—Å–µ 5 –¥–Ω–µ–π.
- –ü–æ–ª–Ω–∞—è + —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–µ ‚Üí –º–æ–∂–µ—Ç–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—è—Ç–Ω–∏—Ü—É (—É—Ç—Ä–æ–º), –Ω–æ –ø–æ—Ç–µ—Ä—è–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ –¥–µ–Ω—å.
- –ü–æ–ª–Ω–∞—è + —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–µ + –∂—É—Ä–Ω–∞–ª—ã ‚Üí –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ—Å—å –¥–æ **–ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ–∫—É–Ω–¥—ã –ø–µ—Ä–µ–¥ –ø–æ–ª–æ–º–∫–æ–π**.

---

## 2. üîç –ê–Ω–∞—Ç–æ–º–∏—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏: —á—Ç–æ –≤–Ω—É—Ç—Ä–∏?

–ü—Ä–µ–∂–¥–µ —á–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å –æ —Ç–∏–ø–∞—Ö, –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞ `.bak`
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫** ‚Äî –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: –¥–∞—Ç–∞, —Ç–∏–ø, —Å–µ—Ä–≤–µ—Ä, LSN –Ω–∞—á–∞–ª–∞/–∫–æ–Ω—Ü–∞.
- **–ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö** ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (data pages).
- **–ñ—É—Ä–Ω–∞–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** ‚Äî –Ω–µ–±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –ª–æ–≥–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏.
- **–ü—Ä–æ–≤–µ—Ä–æ—á–Ω–∞—è —Å—É–º–º–∞ (checksum)** ‚Äî –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ü–∏—è CHECKSUM.

### –ö–∞–∫ SQL Server –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å?
–ü—Ä–∏ –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏ —á–∏—Ç–∞—é—Ç—Å—è **–≤—Å–µ —ç–∫—Å—Ç–µ–Ω—Ç—ã**, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ. –ü—Ä–∏ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–π ‚Äî —Ç–æ–ª—å–∫–æ —ç–∫—Å—Ç–µ–Ω—Ç—ã, –∏–∑–º–µ–Ω–∏–≤—à–∏–µ—Å—è —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ª–Ω–æ–π (–æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –≤ –±–∏—Ç–æ–≤–æ–π –∫–∞—Ä—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π). –ñ—É—Ä–Ω–∞–ª –∫–æ–ø–∏—Ä—É–µ—Ç –∑–∞–ø–∏—Å–∏ –ª–æ–≥–∞, –Ω–∞—á–∏–Ω–∞—è —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ LSN.

---

## 3. üìÄ –¢–∏–ø 1: –ü–æ–ª–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è (Full Backup)

### üîç –ß—Ç–æ —ç—Ç–æ?
–≠—Ç–æ **—Å–Ω–∏–º–æ–∫ –≤—Å–µ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** –Ω–∞ –º–æ–º–µ–Ω—Ç –Ω–∞—á–∞–ª–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏. –í–∞–∂–Ω–æ: –≤–æ –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏ –±–∞–∑–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ (online backup). SQL Server –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é **—Ñ–∏–∫—Å–∞—Ü–∏–∏ –º–æ–º–µ–Ω—Ç–∞ (snapshot)**, —á—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å.

### ‚è±Ô∏è –ö–æ–≥–¥–∞ –¥–µ–ª–∞—Ç—å?
- –ú–∏–Ω–∏–º—É–º **1 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏** (–æ–±—ã—á–Ω–æ –Ω–æ—á—å—é)
- –ü–æ—Å–ª–µ –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (ALTER TABLE, CREATE INDEX)
- –ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏ SQL Server –∏–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º CU
- –ü—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –±–∞–∑—ã –Ω–∞ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–µ—Ä

### üíæ –†–∞–∑–º–µ—Ä –∏ —Å–∫–æ—Ä–æ—Å—Ç—å
–†–∞–∑–º–µ—Ä –ø—Ä–∏–º–µ—Ä–Ω–æ —Ä–∞–≤–µ–Ω —Å—É–º–º–∞—Ä–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–æ–≤ –¥–∞–Ω–Ω—ã—Ö. –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —Å–∂–∞—Ç–∏—è (COMPRESSION) —Ä–∞–∑–º–µ—Ä —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –≤ 2‚Äì4 —Ä–∞–∑–∞, –Ω–æ —Ä–∞—Å—Ç—ë—Ç –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ CPU.

### üîß –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä T-SQL
```sql
BACKUP DATABASE AdventureWorks 
TO DISK = 'C:\Backup\AdventureWorks_Full.bak'
WITH INIT,  -- –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª
     NAME = N'–ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è AdventureWorks',
     DESCRIPTION = N'–ü–ª–∞–Ω–æ–≤–∞—è –Ω–æ—á–Ω–∞—è –∫–æ–ø–∏—è';
```

### üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Å –æ–ø—Ü–∏—è–º–∏
```sql
BACKUP DATABASE AdventureWorks
TO DISK = 'C:\Backup\AdventureWorks_Full.bak'
WITH 
    INIT,
    NAME = 'AdventureWorks - –ø–æ–ª–Ω–∞—è –∫–æ–ø–∏—è',
    DESCRIPTION = '–°–æ–∑–¥–∞–Ω–æ –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö',
    CHECKSUM,      -- –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü
    COMPRESSION,   -- —Å–∂–∞—Ç–∏–µ
    STATS = 5;     -- –æ—Ç—á—ë—Ç –∫–∞–∂–¥—ã–µ 5% –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```

### ‚úÖ –ü–ª—é—Å—ã
- –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞ (–º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ä–∞–∑—É)
- –ë–∞–∑–∞ –¥–ª—è —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã—Ö –∫–æ–ø–∏–π

### ‚ùå –ú–∏–Ω—É—Å—ã
- –î–æ–ª–≥–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è
- –ú–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- –ù–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∏—Å–∫

---

## 4. üìÄ –¢–∏–ø 2: –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è (Differential Backup)

### üîç –ö–∞–∫ –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç?
SQL Server –≤–µ–¥—ë—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é **–±–∏—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É —ç–∫—Å—Ç–µ–Ω—Ç–æ–≤ (differential bitmap)**. –ö–∞–∂–¥—ã–π –±–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–º—É —ç–∫—Å—Ç–µ–Ω—Ç—É (64 –ö–ë). –ö–æ–≥–¥–∞ —ç–∫—Å—Ç–µ–Ω—Ç –∏–∑–º–µ–Ω—è–µ—Ç—Å—è (–ª—é–±–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏), —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –±–∏—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ 1. –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è —á–∏—Ç–∞–µ—Ç **—Ç–æ–ª—å–∫–æ —Ç–µ —ç–∫—Å—Ç–µ–Ω—Ç—ã, —É –∫–æ—Ç–æ—Ä—ã—Ö –±–∏—Ç = 1**.

### üîÑ –°–±—Ä–æ—Å –±–∏—Ç–æ–≤–æ–π –∫–∞—Ä—Ç—ã
–ë–∏—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏**. –ü–æ—ç—Ç–æ–º—É:
- –ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ ‚Üí —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –≤–æ –≤—Ç–æ—Ä–Ω–∏–∫ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫+–≤—Ç–æ—Ä–Ω–∏–∫.
- –ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è –≤–æ –≤—Ç–æ—Ä–Ω–∏–∫ ‚Üí –Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∞, —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –≤ —Å—Ä–µ–¥—É –±—É–¥–µ—Ç –º–µ–Ω—å—à–µ.

### üìà –†–∞–∑–º–µ—Ä —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–π –∫–æ–ø–∏–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è
–£—Ç—Ä–æ–º –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –º–∞–ª–µ–Ω—å–∫–∞—è, –∫ –≤–µ—á–µ—Ä—É –º–æ–∂–µ—Ç –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—å —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–ª–Ω–æ–π, –µ—Å–ª–∏ –º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

### ‚è±Ô∏è –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
- –ï—Å–ª–∏ –ø–æ–ª–Ω–∞—è –∫–æ–ø–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ –º–µ—Å—Ç–∞, –∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–ª–∏—à–∫–æ–º –≤–µ–ª–∏–∫–∏.
- –ß—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ: –ø–æ–ª–Ω–∞—è + –ø–æ—Å–ª–µ–¥–Ω—è—è —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –≤–º–µ—Å—Ç–æ —Ü–µ–ø–æ—á–∫–∏ –∏–∑ –º–Ω–æ–≥–∏—Ö –∂—É—Ä–Ω–∞–ª–æ–≤.

### üîß –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä T-SQL
```sql
BACKUP DATABASE AdventureWorks 
TO DISK = 'C:\Backup\AdventureWorks_Diff.bak'
WITH DIFFERENTIAL,
     NAME = N'–†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è AdventureWorks';
```

### üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä
```sql
-- –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏ –¥–µ–ª–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
INSERT INTO dbo.LargeTable DEFAULT VALUES;
GO 5000

-- –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è
BACKUP DATABASE AdventureWorks
TO DISK = 'C:\Backup\AdventureWorks_Diff.bak'
WITH DIFFERENTIAL,
     NAME = 'AdventureWorks - —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è',
     STATS = 10;
```

### ‚úÖ –ü–ª—é—Å—ã
- –ë—ã—Å—Ç—Ä–µ–µ –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏
- –ú–µ–Ω—å—à–µ –º–µ—Å—Ç–∞
- –£—Å–∫–æ—Ä—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

### ‚ùå –ú–∏–Ω—É—Å—ã
- –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏
- –ö –≤–µ—á–µ—Ä—É –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –ø–æ—á—Ç–∏ –ø–æ–ª–Ω–æ–π

---

## 5. üìÄ –¢–∏–ø 3: –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (Transaction Log Backup)

### üîç –ß—Ç–æ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è?
–ö–æ–ø–∏—Ä—É—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ –∏–∑ —Ñ–∞–π–ª–∞ `.ldf`, –Ω–∞—á–∏–Ω–∞—è —Å **–ø–æ—Å–ª–µ–¥–Ω–µ–π —É—Å–ø–µ—à–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏** –¥–æ –∫–æ–Ω—Ü–∞ –∞–∫—Ç–∏–≤–Ω–æ–π —á–∞—Å—Ç–∏ –∂—É—Ä–Ω–∞–ª–∞. –ü–æ—Å–ª–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞—è —á–∞—Å—Ç—å –∂—É—Ä–Ω–∞–ª–∞ –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ –¥–æ—Å—Ç—É–ø–Ω–∞—è –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –º–æ–¥–µ–ª—å FULL).

### üîó –¶–µ–ø–æ—á–∫–∞ –∂—É—Ä–Ω–∞–ª–æ–≤
–ñ—É—Ä–Ω–∞–ª—ã –æ–±—Ä–∞–∑—É—é—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å LSN. –ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –∂—É—Ä–Ω–∞–ª –ø–æ–≤—Ä–µ–∂–¥—ë–Ω –∏–ª–∏ —É—Ç–µ—Ä—è–Ω, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º.

### ‚è±Ô∏è –ß–∞—Å—Ç–æ—Ç–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:
- **RPO** (Recovery Point Objective) ‚Äî —Å–∫–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã—Ö –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ—Ç–µ—Ä—è—Ç—å.
- **–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π** ‚Äî —á–µ–º –±–æ–ª—å—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ —Ä–∞—Å—Ç—ë—Ç –∂—É—Ä–Ω–∞–ª.
- **–†–∞–∑–º–µ—Ä–∞ –¥–∏—Å–∫–∞** ‚Äî —á–∞—Å—Ç—ã–µ –±—ç–∫–∞–ø—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ.

–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ: –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º ‚Äî –∫–∞–∂–¥—ã–µ 5‚Äì15 –º–∏–Ω—É—Ç, –¥–ª—è –æ–±—ã—á–Ω—ã—Ö ‚Äî 30‚Äì60 –º–∏–Ω—É—Ç.

### üîß –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä T-SQL
```sql
BACKUP LOG AdventureWorks 
TO DISK = 'C:\Backup\AdventureWorks_Log.trn'
WITH NAME = N'–ö–æ–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞ AdventureWorks';
```

### üîß –ü—Ä–∏–º–µ—Ä —Å –¥–≤—É–º—è –∂—É—Ä–Ω–∞–ª–∞–º–∏
```sql
-- –í–∫–ª—é—á–∞–µ–º –ø–æ–ª–Ω—É—é –º–æ–¥–µ–ª—å (–µ—Å–ª–∏ –µ—â—ë –Ω–µ)
ALTER DATABASE AdventureWorks SET RECOVERY FULL;
GO

-- –î–µ–ª–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
INSERT INTO dbo.LargeTable DEFAULT VALUES;
GO 1000

-- –ö–æ–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞
BACKUP LOG AdventureWorks
TO DISK = 'C:\Backup\AdventureWorks_Log1.trn'
WITH NAME = '–õ–æ–≥ 1';

-- –ï—â—ë –∏–∑–º–µ–Ω–µ–Ω–∏—è
INSERT INTO dbo.LargeTable DEFAULT VALUES;
GO 1000

-- –í—Ç–æ—Ä–∞—è –∫–æ–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞
BACKUP LOG AdventureWorks
TO DISK = 'C:\Backup\AdventureWorks_Log2.trn'
WITH NAME = '–õ–æ–≥ 2';
```

### ‚úÖ –ü–ª—é—Å—ã
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ (Point-in-Time)
- –ú–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä –ø—Ä–∏ —á–∞—Å—Ç—ã—Ö –±—ç–∫–∞–ø–∞—Ö
- –û—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –º–µ—Å—Ç–æ –≤ –∂—É—Ä–Ω–∞–ª–µ

### ‚ùå –ú–∏–Ω—É—Å—ã
- –¢—Ä–µ–±—É–µ—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ü–µ–ø–æ—á–∫–∏
- –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (–º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤)

---

## 6. üß© –•–≤–æ—Å—Ç –∂—É—Ä–Ω–∞–ª–∞ (Tail-Log Backup) ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–Ω—Å

### üö® –°—Ü–µ–Ω–∞—Ä–∏–π
–î–∏—Å–∫ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤—ã—à–µ–ª –∏–∑ —Å—Ç—Ä–æ—è, –Ω–æ –∂—É—Ä–Ω–∞–ª –µ—â—ë –∂–∏–≤ (–∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç). –ß—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **—Ö–≤–æ—Å—Ç–æ–≤—É—é –∫–æ–ø–∏—é –∂—É—Ä–Ω–∞–ª–∞** –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º.

### ‚ö†Ô∏è –í–∞–∂–Ω–æ
–•–≤–æ—Å—Ç –∂—É—Ä–Ω–∞–ª–∞ –º–æ–∂–Ω–æ —Å–Ω—è—Ç—å, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –±–∞–∑–∞ –µ—â—ë —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∂—É—Ä–Ω–∞–ª –Ω–µ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±–∞–∑–∞ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ **–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è (RESTORING)**.

### üîß –ü—Ä–∏–º–µ—Ä –∞–≤–∞—Ä–∏–π–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
```sql
-- –ò–º–∏—Ç–∞—Ü–∏—è –∞–≤–∞—Ä–∏–∏: –±–∞–∑–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∞, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∞
-- –°–Ω–∏–º–∞–µ–º —Ö–≤–æ—Å—Ç –∂—É—Ä–Ω–∞–ª–∞
BACKUP LOG AdventureWorks
TO DISK = 'C:\Backup\AdventureWorks_Tail.trn'
WITH NORECOVERY;   -- –±–∞–∑–∞ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å—Ç–∞–Ω–µ—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

---

## 7. üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞        | –ü–æ–ª–Ω–∞—è                | –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è            | –ñ—É—Ä–Ω–∞–ª —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π    |
|------------------------|----------------------|----------------------|----------------------|
| **–°–æ–¥–µ—Ä–∂–∏—Ç**          | –í—Å—é –±–∞–∑—É             | –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π | –ó–∞–ø–∏—Å–∏ –ª–æ–≥–∞          |
| **–†–∞–∑–º–µ—Ä**            | –ë–æ–ª—å—à–æ–π (‚âà–ë–î)        | –°—Ä–µ–¥–Ω–∏–π (—Ä–∞—Å—Ç—ë—Ç)     | –ú–∞–ª–µ–Ω—å–∫–∏–π            |
| **–°–∫–æ—Ä–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è** | –ú–µ–¥–ª–µ–Ω–Ω–∞—è            | –°—Ä–µ–¥–Ω—è—è              | –ë—ã—Å—Ç—Ä–∞—è              |
| **–°–∫–æ—Ä–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è** | –ú–µ–¥–ª–µ–Ω–Ω–∞—è (—Ü–µ–ª–∏–∫–æ–º) | –°—Ä–µ–¥–Ω—è—è (–ø–æ–ª–Ω–∞—è + —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è) | –ú–µ–¥–ª–µ–Ω–Ω–∞—è (–º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤) |
| **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å**       | –ù–µ–∑–∞–≤–∏—Å–∏–º–∞           | –û—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø–æ–ª–Ω–æ–π  | –û—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∂—É—Ä–Ω–∞–ª–æ–≤ |
| **–ß–∞—Å—Ç–æ—Ç–∞**           | 1 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏        | –ö–∞–∂–¥—ã–π —á–∞—Å           | –ö–∞–∂–¥—ã–µ 10-30 –º–∏–Ω     |
| **Point-in-Time**     | ‚ùå –ù–µ—Ç                | ‚ùå –ù–µ—Ç                | ‚úÖ –î–∞                |

---

## 8. üìä –ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é: RPO –∏ RTO

### –ü–æ–Ω—è—Ç–∏—è
- **RPO (Recovery Point Objective)** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏, –∑–∞ –∫–æ—Ç–æ—Ä—ã–π –º–æ–≥—É—Ç –±—ã—Ç—å –ø–æ—Ç–µ—Ä—è–Ω—ã –¥–∞–Ω–Ω—ã–µ. –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —á–∞—Å—Ç–æ—Ç—É –∫–æ–ø–∏–π –∂—É—Ä–Ω–∞–ª–∞.
- **RTO (Recovery Time Objective)** ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è. –í–ª–∏—è–µ—Ç –Ω–∞ –≤—ã–±–æ—Ä –º–µ–∂–¥—É —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∂—É—Ä–Ω–∞–ª–æ–≤.

### –ú–∞—Ç—Ä–∏—Ü–∞ –≤—ã–±–æ—Ä–∞

| RPO        | RTO        | –°—Ç—Ä–∞—Ç–µ–≥–∏—è                                      |
|------------|------------|------------------------------------------------|
| 1 —Å—É—Ç–∫–∏    | 2 —á–∞—Å–∞     | –ü–æ–ª–Ω–∞—è + —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–µ (–±–µ–∑ –∂—É—Ä–Ω–∞–ª–æ–≤)             |
| 1 —á–∞—Å      | 1 —á–∞—Å      | –ü–æ–ª–Ω–∞—è + –∂—É—Ä–Ω–∞–ª—ã –∫–∞–∂–¥—ã–π —á–∞—Å                     |
| 15 –º–∏–Ω—É—Ç   | 30 –º–∏–Ω—É—Ç   | –ü–æ–ª–Ω–∞—è + —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–µ + –∂—É—Ä–Ω–∞–ª—ã –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç  |
| 5 –º–∏–Ω—É—Ç    | 15 –º–∏–Ω—É—Ç   | –ü–æ–ª–Ω–∞—è + –∂—É—Ä–Ω–∞–ª—ã –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç + –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã–π standby |

### üìã –¢–∏–ø–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (–¥–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –ë–î)
```
–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 00:00 ‚Üí –ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è
–ö–∞–∂–¥—ã–π —á–∞—Å —Å 08:00 –¥–æ 20:00 ‚Üí –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è
–ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç ‚Üí –ö–æ–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```

---

## 9. üõ†Ô∏è –ö–∞–∫ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –±—ç–∫–∞–ø–æ–≤?

### –ó–∞–ø—Ä–æ—Å –∫ msdb
```sql
SELECT 
    bs.database_name,
    bs.backup_start_date,
    bs.backup_finish_date,
    CASE bs.type
        WHEN 'D' THEN '–ü–æ–ª–Ω–∞—è'
        WHEN 'I' THEN '–†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è'
        WHEN 'L' THEN '–ñ—É—Ä–Ω–∞–ª'
    END AS –¢–∏–ø_–∫–æ–ø–∏–∏,
    bs.backup_size/1024/1024 AS –†–∞–∑–º–µ—Ä_–ú–ë,
    bs.name AS –ò–º—è_–Ω–∞–±–æ—Ä–∞,
    bs.description AS –û–ø–∏—Å–∞–Ω–∏–µ,
    bmf.physical_device_name AS –§–∞–π–ª
FROM msdb.dbo.backupset bs
JOIN msdb.dbo.backupmediafamily bmf 
    ON bs.media_set_id = bmf.media_set_id
WHERE bs.database_name = 'AdventureWorks'
ORDER BY bs.backup_start_date DESC;
```

### RESTORE HEADERONLY
```sql
RESTORE HEADERONLY FROM DISK = 'C:\Backup\AdventureWorks_Full.bak';
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ø–æ—á–∫–∏ –∂—É—Ä–Ω–∞–ª–æ–≤
```sql
RESTORE VERIFYONLY FROM DISK = 'C:\Backup\AdventureWorks_Log1.trn';
RESTORE VERIFYONLY FROM DISK = 'C:\Backup\AdventureWorks_Log2.trn';
```

---

## 10. üíª –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Ç–∏–ø–æ–≤

```sql
-- 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
CREATE DATABASE BackupDemo;
GO
USE BackupDemo;
GO
CREATE TABLE dbo.Test (id INT IDENTITY, dt DATETIME DEFAULT GETDATE(), data CHAR(1000) DEFAULT 'A');
GO
INSERT INTO dbo.Test DEFAULT VALUES;
GO 100

-- 2. –ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è
BACKUP DATABASE BackupDemo 
TO DISK = 'C:\Backup\BackupDemo_Full.bak'
WITH INIT, NAME = '–ü–æ–ª–Ω–∞—è';

-- 3. –ï—â—ë –¥–∞–Ω–Ω—ã–µ
INSERT INTO dbo.Test DEFAULT VALUES;
GO 50

-- 4. –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è
BACKUP DATABASE BackupDemo 
TO DISK = 'C:\Backup\BackupDemo_Diff.bak'
WITH DIFFERENTIAL, NAME = '–†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è';

-- 5. –ï—â—ë –¥–∞–Ω–Ω—ã–µ
INSERT INTO dbo.Test DEFAULT VALUES;
GO 25

-- 6. –ö–æ–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞
BACKUP LOG BackupDemo 
TO DISK = 'C:\Backup\BackupDemo_Log1.trn'
WITH NAME = '–ñ—É—Ä–Ω–∞–ª 1';
```

---

## 11. ‚úÖ –†–µ–∑—é–º–µ: —á–µ–∫-–ª–∏—Å—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

| –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç |
|--------|-------|
| –ö–∞–∫ —á–∞—Å—Ç–æ –¥–µ–ª–∞—Ç—å –ø–æ–ª–Ω—É—é? | –ú–∏–Ω–∏–º—É–º —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏ |
| –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–µ? | –ß—Ç–æ–±—ã –±—ã—Å—Ç—Ä–µ–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –∏ —Ä–µ–∂–µ –Ω–∞–≥—Ä—É–∂–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –ø–æ–ª–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏ |
| –ö–∞–∫ —á–∞—Å—Ç–æ –¥–µ–ª–∞—Ç—å –∂—É—Ä–Ω–∞–ª—ã? | –ö–∞–∂–¥—ã–µ 10‚Äì30 –º–∏–Ω—É—Ç –≤ FULL |
| –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–¥ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º? | –°–Ω—è—Ç—å —Ö–≤–æ—Å—Ç –∂—É—Ä–Ω–∞–ª–∞ (TAIL-LOG) |
| –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é? | –í msdb (—Å–∏—Å—Ç–µ–º–Ω–∞—è –ë–î) |
| –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ø–æ—á–∫—É? | `RESTORE HEADERONLY FROM DISK = '...'` |

üîë **–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è:**  
> **¬´–ù–µ—Ç –±—ç–∫–∞–ø–∞ –∂—É—Ä–Ω–∞–ª–∞ ‚Äî –Ω–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –ù–µ—Ç –ø–æ–ª–Ω–æ–π –∫–æ–ø–∏–∏ ‚Äî –Ω–µ—Ç –±–∞–∑—ã –≤–æ–æ–±—â–µ.¬ª**

---

## 12. ‚ùì –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å —É–≥–ª—É–±–ª–µ–Ω–∏–µ–º)

1. –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø–æ–ª–Ω–æ–π –∏ —Ä–∞–∑–Ω–æ—Å—Ç–Ω–æ–π —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–µ–π?  
2. –ü–æ—á–µ–º—É —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è –∫ –≤–µ—á–µ—Ä—É –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ—á—Ç–∏ —Ç–∞–∫–æ–π –∂–µ –±–æ–ª—å—à–æ–π, –∫–∞–∫ –ø–æ–ª–Ω–∞—è?  
3. –ú–æ–∂–Ω–æ –ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –Ω–∞ –º–æ–º–µ–Ω—Ç ¬´–∑–∞ 5 –º–∏–Ω—É—Ç –¥–æ —Å–±–æ—è¬ª –±–µ–∑ –∫–æ–ø–∏–π –∂—É—Ä–Ω–∞–ª–∞?  
4. –ß—Ç–æ —Ç–∞–∫–æ–µ tail-log backup –∏ –∫–æ–≥–¥–∞ –æ–Ω –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è?  
5. –ö–∞–∫ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∂—É—Ä–Ω–∞–ª–∞ –≤ FULL?  
6. –ì–¥–µ SQL Server —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤?  
7. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –ø–æ—Ç–µ—Ä—è—Ç—å –æ–¥–Ω—É –∏–∑ –∫–æ–ø–∏–π –∂—É—Ä–Ω–∞–ª–∞ –≤ —Ü–µ–ø–æ—á–∫–µ?  
8. –ö–∞–∫–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—ë—Ç —Ä–∞–∑–Ω–æ—Å—Ç–Ω—É—é –∫–æ–ø–∏—é?  
9. –ú–æ–∂–Ω–æ –ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–∑–Ω–æ—Å—Ç–Ω—É—é –∫–æ–ø–∏—é –±–µ–∑ –ø–æ–ª–Ω–æ–π?  
10. **–ì–ª—É–±–æ–∫–∏–π –≤–æ–ø—Ä–æ—Å:** –ü–æ—á–µ–º—É —Ä–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Å–Ω–æ–≤–æ–π –¥–ª—è Point-in-Time?  
    *–û—Ç–≤–µ—Ç: –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ —Ñ–∞–∫—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —ç–∫—Å—Ç–µ–Ω—Ç–æ–≤.*  
11. **–ì–ª—É–±–æ–∫–∏–π –≤–æ–ø—Ä–æ—Å:** –í–ª–∏—è–µ—Ç –ª–∏ —Å–∂–∞—Ç–∏–µ –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ?  
    *–û—Ç–≤–µ—Ç: —Å–∂–∞—Ç—ã–µ –±—ç–∫–∞–ø—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –¥–æ–ª—å—à–µ, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É—é—Ç —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∏ –Ω–∞ –ª–µ—Ç—É.*  
12. **–ì–ª—É–±–æ–∫–∏–π –≤–æ–ø—Ä–æ—Å:** –ß—Ç–æ —Ç–∞–∫–æ–µ —ç–∫—Å—Ç–µ–Ω—Ç –∏ –∫–∞–∫ –æ–Ω —Å–≤—è–∑–∞–Ω —Å —Ä–∞–∑–Ω–æ—Å—Ç–Ω—ã–º–∏ –∫–æ–ø–∏—è–º–∏?  
    *–û—Ç–≤–µ—Ç: —ç–∫—Å—Ç–µ–Ω—Ç ‚Äî –µ–¥–∏–Ω–∏—Ü–∞ –≤—ã–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–∞ (8 —Å—Ç—Ä–∞–Ω–∏—Ü). –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —ç–∫—Å—Ç–µ–Ω—Ç–æ–≤: –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∞ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤ —ç–∫—Å—Ç–µ–Ω—Ç–µ, –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å —ç–∫—Å—Ç–µ–Ω—Ç.*

---

## 13. üîú –ü–æ–¥–≤–µ–¥–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤ –∏ —Å–≤—è–∑—å —Å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç–æ–π

–°–µ–≥–æ–¥–Ω—è –º—ã —Ä–∞–∑–æ–±—Ä–∞–ª–∏ **—Ç—Ä–∏ –∫–∏—Ç–∞** —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è. –ö–æ–º–±–∏–Ω–∏—Ä—É—è –∏—Ö, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç:
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö (RPO)
- –£—Å–∫–æ—Ä–∏—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ (RTO)
- –≠–∫–æ–Ω–æ–º–∏—Ç—å –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ

üß™ **–í –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç–µ ‚Ññ15** –≤—ã:
- —Å–æ–∑–¥–∞–¥–∏—Ç–µ **–ø–æ–ª–Ω—É—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é** –¥–≤—É–º—è —Å–ø–æ—Å–æ–±–∞–º–∏ (SSMS + T-SQL);
- –Ω–∞—É—á–∏—Ç–µ—Å—å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –±—ç–∫–∞–ø–æ–≤;
- —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–Ω–∞—è –∫–æ–ø–∏—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ.

---

## üìé –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ —Ç–µ–º–µ

| –î–µ–π—Å—Ç–≤–∏–µ | –ö–æ–º–∞–Ω–¥–∞ T-SQL |
|----------|---------------|
| –ü–æ–ª–Ω–∞—è –∫–æ–ø–∏—è | `BACKUP DATABASE –ò–º—è TO DISK = '–ø—É—Ç—å\—Ñ–∞–π–ª.bak'` |
| –†–∞–∑–Ω–æ—Å—Ç–Ω–∞—è –∫–æ–ø–∏—è | `BACKUP DATABASE –ò–º—è TO DISK = '–ø—É—Ç—å\—Ñ–∞–π–ª.bak' WITH DIFFERENTIAL` |
| –ö–æ–ø–∏—è –∂—É—Ä–Ω–∞–ª–∞ | `BACKUP LOG –ò–º—è TO DISK = '–ø—É—Ç—å\—Ñ–∞–π–ª.trn'` |
| –•–≤–æ—Å—Ç –∂—É—Ä–Ω–∞–ª–∞ | `BACKUP LOG –ò–º—è TO DISK = '–ø—É—Ç—å\—Ñ–∞–π–ª.trn' WITH NORECOVERY` |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ | `RESTORE HEADERONLY FROM DISK = '–ø—É—Ç—å\—Ñ–∞–π–ª.bak'` |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ | `RESTORE VERIFYONLY FROM DISK = '–ø—É—Ç—å\—Ñ–∞–π–ª.bak'` |
| –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ | –ó–∞–ø—Ä–æ—Å –∫ `msdb.dbo.backupset` (—Å–º. –≤—ã—à–µ) |

---

üìú **–õ–∏—Ü–µ–Ω–∑–∏—è:** CC BY-NC-SA 4.0  
üë®‚Äçüè´ **–ê–≤—Ç–æ—Ä:** –†—É—Å–ª–∞–Ω –†–∏–Ω–∞—Ç–æ–≤–∏—á –°–∞—Ñ–∏—É–ª–∏–Ω  
üìÖ **–î–∞—Ç–∞:** 16.02.2026

### üîô üìö üîú –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫—É—Ä—Å—É

| [–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/LESSON14.MD) | &nbsp; | [–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–Ω—è—Ç–∏–µ](../LESSONS/PR15.MD) |
|:--------------------------------------:|:------:|:-------------------------------------:|
| üéì [–õ–µ–∫—Ü–∏—è 14](../LESSONS/LESSON14.MD) | üìñ [–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](../README.MD) | üíª [–ü—Ä–∞–∫—Ç–∏–∫–∞ ‚Ññ15](../LESSONS/PR15.MD) |
